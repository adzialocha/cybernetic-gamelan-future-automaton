(function(e){var t=window["webpackJsonp"];window["webpackJsonp"]=function r(o,s,a){var f,u,c=0,h=[],l;for(;c<o.length;c++){u=o[c];if(n[u]){h.push(n[u][0])}n[u]=0}for(f in s){if(Object.prototype.hasOwnProperty.call(s,f)){e[f]=s[f]}}if(t)t(o,s,a);while(h.length){h.shift()()}if(a){for(c=0;c<a.length;c++){l=i(i.s=a[c])}}return l};var r={};var n={1:0};function i(t){if(r[t]){return r[t].exports}var n=r[t]={i:t,l:false,exports:{}};e[t].call(n.exports,n,n.exports,i);n.l=true;return n.exports}i.e=function e(t){var r=n[t];if(r===0){return new Promise(function(e){e()})}if(r){return r[2]}var o=new Promise(function(e,i){r=n[t]=[e,i]});r[2]=o;var s=document.getElementsByTagName("head")[0];var a=document.createElement("script");a.type="text/javascript";a.charset="utf-8";a.async=true;a.timeout=12e4;if(i.nc){a.setAttribute("nonce",i.nc)}a.src=i.p+""+t+".bundle.js";var f=setTimeout(u,12e4);a.onerror=a.onload=u;function u(){a.onerror=a.onload=null;clearTimeout(f);var e=n[t];if(e!==0){if(e){e[1](new Error("Loading chunk "+t+" failed."))}n[t]=undefined}}s.appendChild(a);return o};i.m=e;i.c=r;i.d=function(e,t,r){if(!i.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:r})}};i.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};i.d(t,"a",t);return t};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="";i.oe=function(e){console.error(e);throw e};return i(i.s=89)})([function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")r=window}e.exports=r},function(e,t){var r=e.exports={};var n;var i;function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=o}}catch(e){n=o}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=s}}catch(e){i=s}})();function a(e){if(n===setTimeout){return setTimeout(e,0)}if((n===o||!n)&&setTimeout){n=setTimeout;return setTimeout(e,0)}try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function f(e){if(i===clearTimeout){return clearTimeout(e)}if((i===s||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var u=[];var c=false;var h;var l=-1;function p(){if(!c||!h){return}c=false;if(h.length){u=h.concat(u)}else{l=-1}if(u.length){d()}}function d(){if(c){return}var e=a(p);c=true;var t=u.length;while(t){h=u;u=[];while(++l<t){if(h){h[l].run()}}l=-1;t=u.length}h=null;c=false;f(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}u.push(new v(e,t));if(u.length===1&&!c){a(d)}};function v(e,t){this.fun=e;this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function y(){}r.on=y;r.addListener=y;r.once=y;r.off=y;r.removeListener=y;r.removeAllListeners=y;r.emit=y;r.prependListener=y;r.prependOnceListener=y;r.listeners=function(e){return[]};r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},function(e,t){if(typeof Object.create==="function"){e.exports=function e(t,r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}else{e.exports=function e(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}},function(e,t,r){"use strict";(function(e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(69);var i=r(70);var o=r(23);t.Buffer=u;t.SlowBuffer=m;t.INSPECT_MAX_BYTES=50;u.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==undefined?e.TYPED_ARRAY_SUPPORT:s();t.kMaxLength=a();function s(){try{var e=new Uint8Array(1);e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return e.foo()===42&&typeof e.subarray==="function"&&e.subarray(1,1).byteLength===0}catch(e){return false}}function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(e,t){if(a()<t){throw new RangeError("Invalid typed array length")}if(u.TYPED_ARRAY_SUPPORT){e=new Uint8Array(t);e.__proto__=u.prototype}else{if(e===null){e=new u(t)}e.length=t}return e}function u(e,t,r){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u)){return new u(e,t,r)}if(typeof e==="number"){if(typeof t==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return p(this,e)}return c(this,e,t,r)}u.poolSize=8192;u._augment=function(e){e.__proto__=u.prototype;return e};function c(e,t,r,n){if(typeof t==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&t instanceof ArrayBuffer){return y(e,t,r,n)}if(typeof t==="string"){return d(e,t,r)}return g(e,t)}u.from=function(e,t,r){return c(null,e,t,r)};if(u.TYPED_ARRAY_SUPPORT){u.prototype.__proto__=Uint8Array.prototype;u.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&u[Symbol.species]===u){Object.defineProperty(u,Symbol.species,{value:null,configurable:true})}}function h(e){if(typeof e!=="number"){throw new TypeError('"size" argument must be a number')}else if(e<0){throw new RangeError('"size" argument must not be negative')}}function l(e,t,r,n){h(t);if(t<=0){return f(e,t)}if(r!==undefined){return typeof n==="string"?f(e,t).fill(r,n):f(e,t).fill(r)}return f(e,t)}u.alloc=function(e,t,r){return l(null,e,t,r)};function p(e,t){h(t);e=f(e,t<0?0:b(t)|0);if(!u.TYPED_ARRAY_SUPPORT){for(var r=0;r<t;++r){e[r]=0}}return e}u.allocUnsafe=function(e){return p(null,e)};u.allocUnsafeSlow=function(e){return p(null,e)};function d(e,t,r){if(typeof r!=="string"||r===""){r="utf8"}if(!u.isEncoding(r)){throw new TypeError('"encoding" must be a valid string encoding')}var n=_(t,r)|0;e=f(e,n);var i=e.write(t,r);if(i!==n){e=e.slice(0,i)}return e}function v(e,t){var r=t.length<0?0:b(t.length)|0;e=f(e,r);for(var n=0;n<r;n+=1){e[n]=t[n]&255}return e}function y(e,t,r,n){t.byteLength;if(r<0||t.byteLength<r){throw new RangeError("'offset' is out of bounds")}if(t.byteLength<r+(n||0)){throw new RangeError("'length' is out of bounds")}if(r===undefined&&n===undefined){t=new Uint8Array(t)}else if(n===undefined){t=new Uint8Array(t,r)}else{t=new Uint8Array(t,r,n)}if(u.TYPED_ARRAY_SUPPORT){e=t;e.__proto__=u.prototype}else{e=v(e,t)}return e}function g(e,t){if(u.isBuffer(t)){var r=b(t.length)|0;e=f(e,r);if(e.length===0){return e}t.copy(e,0,0,r);return e}if(t){if(typeof ArrayBuffer!=="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t){if(typeof t.length!=="number"||te(t.length)){return f(e,0)}return v(e,t)}if(t.type==="Buffer"&&o(t.data)){return v(e,t.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(e){if(e>=a()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+a().toString(16)+" bytes")}return e|0}function m(e){if(+e!=e){e=0}return u.alloc(+e)}u.isBuffer=function e(t){return!!(t!=null&&t._isBuffer)};u.compare=function e(t,r){if(!u.isBuffer(t)||!u.isBuffer(r)){throw new TypeError("Arguments must be Buffers")}if(t===r)return 0;var n=t.length;var i=r.length;for(var o=0,s=Math.min(n,i);o<s;++o){if(t[o]!==r[o]){n=t[o];i=r[o];break}}if(n<i)return-1;if(i<n)return 1;return 0};u.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};u.concat=function e(t,r){if(!o(t)){throw new TypeError('"list" argument must be an Array of Buffers')}if(t.length===0){return u.alloc(0)}var n;if(r===undefined){r=0;for(n=0;n<t.length;++n){r+=t[n].length}}var i=u.allocUnsafe(r);var s=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a)){throw new TypeError('"list" argument must be an Array of Buffers')}a.copy(i,s);s+=a.length}return i};function _(e,t){if(u.isBuffer(e)){return e.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)){return e.byteLength}if(typeof e!=="string"){e=""+e}var r=e.length;if(r===0)return 0;var n=false;for(;;){switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case undefined:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Q(e).length;default:if(n)return G(e).length;t=(""+t).toLowerCase();n=true}}}u.byteLength=_;function w(e,t,r){var n=false;if(t===undefined||t<0){t=0}if(t>this.length){return""}if(r===undefined||r>this.length){r=this.length}if(r<=0){return""}r>>>=0;t>>>=0;if(r<=t){return""}if(!e)e="utf8";while(true){switch(e){case"hex":return j(this,t,r);case"utf8":case"utf-8":return M(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return D(this,t,r);case"base64":return P(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();n=true}}}u.prototype._isBuffer=true;function k(e,t,r){var n=e[t];e[t]=e[r];e[r]=n}u.prototype.swap16=function e(){var t=this.length;if(t%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var r=0;r<t;r+=2){k(this,r,r+1)}return this};u.prototype.swap32=function e(){var t=this.length;if(t%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var r=0;r<t;r+=4){k(this,r,r+3);k(this,r+1,r+2)}return this};u.prototype.swap64=function e(){var t=this.length;if(t%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var r=0;r<t;r+=8){k(this,r,r+7);k(this,r+1,r+6);k(this,r+2,r+5);k(this,r+3,r+4)}return this};u.prototype.toString=function e(){var t=this.length|0;if(t===0)return"";if(arguments.length===0)return M(this,0,t);return w.apply(this,arguments)};u.prototype.equals=function e(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(this===t)return true;return u.compare(this,t)===0};u.prototype.inspect=function e(){var r="";var n=t.INSPECT_MAX_BYTES;if(this.length>0){r=this.toString("hex",0,n).match(/.{2}/g).join(" ");if(this.length>n)r+=" ... "}return"<Buffer "+r+">"};u.prototype.compare=function e(t,r,n,i,o){if(!u.isBuffer(t)){throw new TypeError("Argument must be a Buffer")}if(r===undefined){r=0}if(n===undefined){n=t?t.length:0}if(i===undefined){i=0}if(o===undefined){o=this.length}if(r<0||n>t.length||i<0||o>this.length){throw new RangeError("out of range index")}if(i>=o&&r>=n){return 0}if(i>=o){return-1}if(r>=n){return 1}r>>>=0;n>>>=0;i>>>=0;o>>>=0;if(this===t)return 0;var s=o-i;var a=n-r;var f=Math.min(s,a);var c=this.slice(i,o);var h=t.slice(r,n);for(var l=0;l<f;++l){if(c[l]!==h[l]){s=c[l];a=h[l];break}}if(s<a)return-1;if(a<s)return 1;return 0};function S(e,t,r,n,i){if(e.length===0)return-1;if(typeof r==="string"){n=r;r=0}else if(r>2147483647){r=2147483647}else if(r<-2147483648){r=-2147483648}r=+r;if(isNaN(r)){r=i?0:e.length-1}if(r<0)r=e.length+r;if(r>=e.length){if(i)return-1;else r=e.length-1}else if(r<0){if(i)r=0;else return-1}if(typeof t==="string"){t=u.from(t,n)}if(u.isBuffer(t)){if(t.length===0){return-1}return E(e,t,r,n,i)}else if(typeof t==="number"){t=t&255;if(u.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(i){return Uint8Array.prototype.indexOf.call(e,t,r)}else{return Uint8Array.prototype.lastIndexOf.call(e,t,r)}}return E(e,[t],r,n,i)}throw new TypeError("val must be string, number or Buffer")}function E(e,t,r,n,i){var o=1;var s=e.length;var a=t.length;if(n!==undefined){n=String(n).toLowerCase();if(n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le"){if(e.length<2||t.length<2){return-1}o=2;s/=2;a/=2;r/=2}}function f(e,t){if(o===1){return e[t]}else{return e.readUInt16BE(t*o)}}var u;if(i){var c=-1;for(u=r;u<s;u++){if(f(e,u)===f(t,c===-1?0:u-c)){if(c===-1)c=u;if(u-c+1===a)return c*o}else{if(c!==-1)u-=u-c;c=-1}}}else{if(r+a>s)r=s-a;for(u=r;u>=0;u--){var h=true;for(var l=0;l<a;l++){if(f(e,u+l)!==f(t,l)){h=false;break}}if(h)return u}}return-1}u.prototype.includes=function e(t,r,n){return this.indexOf(t,r,n)!==-1};u.prototype.indexOf=function e(t,r,n){return S(this,t,r,n,true)};u.prototype.lastIndexOf=function e(t,r,n){return S(this,t,r,n,false)};function T(e,t,r,n){r=Number(r)||0;var i=e.length-r;if(!n){n=i}else{n=Number(n);if(n>i){n=i}}var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");if(n>o/2){n=o/2}for(var s=0;s<n;++s){var a=parseInt(t.substr(s*2,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function R(e,t,r,n){return ee(G(t,e.length-r),e,r,n)}function A(e,t,r,n){return ee(Z(t),e,r,n)}function x(e,t,r,n){return A(e,t,r,n)}function C(e,t,r,n){return ee(Q(t),e,r,n)}function B(e,t,r,n){return ee($(t,e.length-r),e,r,n)}u.prototype.write=function e(t,r,n,i){if(r===undefined){i="utf8";n=this.length;r=0}else if(n===undefined&&typeof r==="string"){i=r;n=this.length;r=0}else if(isFinite(r)){r=r|0;if(isFinite(n)){n=n|0;if(i===undefined)i="utf8"}else{i=n;n=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var o=this.length-r;if(n===undefined||n>o)n=o;if(t.length>0&&(n<0||r<0)||r>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!i)i="utf8";var s=false;for(;;){switch(i){case"hex":return T(this,t,r,n);case"utf8":case"utf-8":return R(this,t,r,n);case"ascii":return A(this,t,r,n);case"latin1":case"binary":return x(this,t,r,n);case"base64":return C(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase();s=true}}};u.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(e,t,r){if(t===0&&r===e.length){return n.fromByteArray(e)}else{return n.fromByteArray(e.slice(t,r))}}function M(e,t,r){r=Math.min(e.length,r);var n=[];var i=t;while(i<r){var o=e[i];var s=null;var a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){var f,u,c,h;switch(a){case 1:if(o<128){s=o}break;case 2:f=e[i+1];if((f&192)===128){h=(o&31)<<6|f&63;if(h>127){s=h}}break;case 3:f=e[i+1];u=e[i+2];if((f&192)===128&&(u&192)===128){h=(o&15)<<12|(f&63)<<6|u&63;if(h>2047&&(h<55296||h>57343)){s=h}}break;case 4:f=e[i+1];u=e[i+2];c=e[i+3];if((f&192)===128&&(u&192)===128&&(c&192)===128){h=(o&15)<<18|(f&63)<<12|(u&63)<<6|c&63;if(h>65535&&h<1114112){s=h}}}}if(s===null){s=65533;a=1}else if(s>65535){s-=65536;n.push(s>>>10&1023|55296);s=56320|s&1023}n.push(s);i+=a}return L(n)}var O=4096;function L(e){var t=e.length;if(t<=O){return String.fromCharCode.apply(String,e)}var r="";var n=0;while(n<t){r+=String.fromCharCode.apply(String,e.slice(n,n+=O))}return r}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i){n+=String.fromCharCode(e[i]&127)}return n}function D(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i){n+=String.fromCharCode(e[i])}return n}function j(e,t,r){var n=e.length;if(!t||t<0)t=0;if(!r||r<0||r>n)r=n;var i="";for(var o=t;o<r;++o){i+=K(e[o])}return i}function U(e,t,r){var n=e.slice(t,r);var i="";for(var o=0;o<n.length;o+=2){i+=String.fromCharCode(n[o]+n[o+1]*256)}return i}u.prototype.slice=function e(t,r){var n=this.length;t=~~t;r=r===undefined?n:~~r;if(t<0){t+=n;if(t<0)t=0}else if(t>n){t=n}if(r<0){r+=n;if(r<0)r=0}else if(r>n){r=n}if(r<t)r=t;var i;if(u.TYPED_ARRAY_SUPPORT){i=this.subarray(t,r);i.__proto__=u.prototype}else{var o=r-t;i=new u(o,undefined);for(var s=0;s<o;++s){i[s]=this[s+t]}}return i};function N(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function e(t,r,n){t=t|0;r=r|0;if(!n)N(t,r,this.length);var i=this[t];var o=1;var s=0;while(++s<r&&(o*=256)){i+=this[t+s]*o}return i};u.prototype.readUIntBE=function e(t,r,n){t=t|0;r=r|0;if(!n){N(t,r,this.length)}var i=this[t+--r];var o=1;while(r>0&&(o*=256)){i+=this[t+--r]*o}return i};u.prototype.readUInt8=function e(t,r){if(!r)N(t,1,this.length);return this[t]};u.prototype.readUInt16LE=function e(t,r){if(!r)N(t,2,this.length);return this[t]|this[t+1]<<8};u.prototype.readUInt16BE=function e(t,r){if(!r)N(t,2,this.length);return this[t]<<8|this[t+1]};u.prototype.readUInt32LE=function e(t,r){if(!r)N(t,4,this.length);return(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};u.prototype.readUInt32BE=function e(t,r){if(!r)N(t,4,this.length);return this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};u.prototype.readIntLE=function e(t,r,n){t=t|0;r=r|0;if(!n)N(t,r,this.length);var i=this[t];var o=1;var s=0;while(++s<r&&(o*=256)){i+=this[t+s]*o}o*=128;if(i>=o)i-=Math.pow(2,8*r);return i};u.prototype.readIntBE=function e(t,r,n){t=t|0;r=r|0;if(!n)N(t,r,this.length);var i=r;var o=1;var s=this[t+--i];while(i>0&&(o*=256)){s+=this[t+--i]*o}o*=128;if(s>=o)s-=Math.pow(2,8*r);return s};u.prototype.readInt8=function e(t,r){if(!r)N(t,1,this.length);if(!(this[t]&128))return this[t];return(255-this[t]+1)*-1};u.prototype.readInt16LE=function e(t,r){if(!r)N(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};u.prototype.readInt16BE=function e(t,r){if(!r)N(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};u.prototype.readInt32LE=function e(t,r){if(!r)N(t,4,this.length);return this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};u.prototype.readInt32BE=function e(t,r){if(!r)N(t,4,this.length);return this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};u.prototype.readFloatLE=function e(t,r){if(!r)N(t,4,this.length);return i.read(this,t,true,23,4)};u.prototype.readFloatBE=function e(t,r){if(!r)N(t,4,this.length);return i.read(this,t,false,23,4)};u.prototype.readDoubleLE=function e(t,r){if(!r)N(t,8,this.length);return i.read(this,t,true,52,8)};u.prototype.readDoubleBE=function e(t,r){if(!r)N(t,8,this.length);return i.read(this,t,false,52,8)};function q(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}u.prototype.writeUIntLE=function e(t,r,n,i){t=+t;r=r|0;n=n|0;if(!i){var o=Math.pow(2,8*n)-1;q(this,t,r,n,o,0)}var s=1;var a=0;this[r]=t&255;while(++a<n&&(s*=256)){this[r+a]=t/s&255}return r+n};u.prototype.writeUIntBE=function e(t,r,n,i){t=+t;r=r|0;n=n|0;if(!i){var o=Math.pow(2,8*n)-1;q(this,t,r,n,o,0)}var s=n-1;var a=1;this[r+s]=t&255;while(--s>=0&&(a*=256)){this[r+s]=t/a&255}return r+n};u.prototype.writeUInt8=function e(t,r,n){t=+t;r=r|0;if(!n)q(this,t,r,1,255,0);if(!u.TYPED_ARRAY_SUPPORT)t=Math.floor(t);this[r]=t&255;return r+1};function F(e,t,r,n){if(t<0)t=65535+t+1;for(var i=0,o=Math.min(e.length-r,2);i<o;++i){e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}}u.prototype.writeUInt16LE=function e(t,r,n){t=+t;r=r|0;if(!n)q(this,t,r,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[r]=t&255;this[r+1]=t>>>8}else{F(this,t,r,true)}return r+2};u.prototype.writeUInt16BE=function e(t,r,n){t=+t;r=r|0;if(!n)q(this,t,r,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[r]=t>>>8;this[r+1]=t&255}else{F(this,t,r,false)}return r+2};function z(e,t,r,n){if(t<0)t=4294967295+t+1;for(var i=0,o=Math.min(e.length-r,4);i<o;++i){e[r+i]=t>>>(n?i:3-i)*8&255}}u.prototype.writeUInt32LE=function e(t,r,n){t=+t;r=r|0;if(!n)q(this,t,r,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[r+3]=t>>>24;this[r+2]=t>>>16;this[r+1]=t>>>8;this[r]=t&255}else{z(this,t,r,true)}return r+4};u.prototype.writeUInt32BE=function e(t,r,n){t=+t;r=r|0;if(!n)q(this,t,r,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255}else{z(this,t,r,false)}return r+4};u.prototype.writeIntLE=function e(t,r,n,i){t=+t;r=r|0;if(!i){var o=Math.pow(2,8*n-1);q(this,t,r,n,o-1,-o)}var s=0;var a=1;var f=0;this[r]=t&255;while(++s<n&&(a*=256)){if(t<0&&f===0&&this[r+s-1]!==0){f=1}this[r+s]=(t/a>>0)-f&255}return r+n};u.prototype.writeIntBE=function e(t,r,n,i){t=+t;r=r|0;if(!i){var o=Math.pow(2,8*n-1);q(this,t,r,n,o-1,-o)}var s=n-1;var a=1;var f=0;this[r+s]=t&255;while(--s>=0&&(a*=256)){if(t<0&&f===0&&this[r+s+1]!==0){f=1}this[r+s]=(t/a>>0)-f&255}return r+n};u.prototype.writeInt8=function e(t,r,n){t=+t;r=r|0;if(!n)q(this,t,r,1,127,-128);if(!u.TYPED_ARRAY_SUPPORT)t=Math.floor(t);if(t<0)t=255+t+1;this[r]=t&255;return r+1};u.prototype.writeInt16LE=function e(t,r,n){t=+t;r=r|0;if(!n)q(this,t,r,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[r]=t&255;this[r+1]=t>>>8}else{F(this,t,r,true)}return r+2};u.prototype.writeInt16BE=function e(t,r,n){t=+t;r=r|0;if(!n)q(this,t,r,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[r]=t>>>8;this[r+1]=t&255}else{F(this,t,r,false)}return r+2};u.prototype.writeInt32LE=function e(t,r,n){t=+t;r=r|0;if(!n)q(this,t,r,4,2147483647,-2147483648);if(u.TYPED_ARRAY_SUPPORT){this[r]=t&255;this[r+1]=t>>>8;this[r+2]=t>>>16;this[r+3]=t>>>24}else{z(this,t,r,true)}return r+4};u.prototype.writeInt32BE=function e(t,r,n){t=+t;r=r|0;if(!n)q(this,t,r,4,2147483647,-2147483648);if(t<0)t=4294967295+t+1;if(u.TYPED_ARRAY_SUPPORT){this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255}else{z(this,t,r,false)}return r+4};function Y(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function H(e,t,r,n,o){if(!o){Y(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38)}i.write(e,t,r,n,23,4);return r+4}u.prototype.writeFloatLE=function e(t,r,n){return H(this,t,r,true,n)};u.prototype.writeFloatBE=function e(t,r,n){return H(this,t,r,false,n)};function W(e,t,r,n,o){if(!o){Y(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308)}i.write(e,t,r,n,52,8);return r+8}u.prototype.writeDoubleLE=function e(t,r,n){return W(this,t,r,true,n)};u.prototype.writeDoubleBE=function e(t,r,n){return W(this,t,r,false,n)};u.prototype.copy=function e(t,r,n,i){if(!n)n=0;if(!i&&i!==0)i=this.length;if(r>=t.length)r=t.length;if(!r)r=0;if(i>0&&i<n)i=n;if(i===n)return 0;if(t.length===0||this.length===0)return 0;if(r<0){throw new RangeError("targetStart out of bounds")}if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");if(i>this.length)i=this.length;if(t.length-r<i-n){i=t.length-r+n}var o=i-n;var s;if(this===t&&n<r&&r<i){for(s=o-1;s>=0;--s){t[s+r]=this[s+n]}}else if(o<1e3||!u.TYPED_ARRAY_SUPPORT){for(s=0;s<o;++s){t[s+r]=this[s+n]}}else{Uint8Array.prototype.set.call(t,this.subarray(n,n+o),r)}return o};u.prototype.fill=function e(t,r,n,i){if(typeof t==="string"){if(typeof r==="string"){i=r;r=0;n=this.length}else if(typeof n==="string"){i=n;n=this.length}if(t.length===1){var o=t.charCodeAt(0);if(o<256){t=o}}if(i!==undefined&&typeof i!=="string"){throw new TypeError("encoding must be a string")}if(typeof i==="string"&&!u.isEncoding(i)){throw new TypeError("Unknown encoding: "+i)}}else if(typeof t==="number"){t=t&255}if(r<0||this.length<r||this.length<n){throw new RangeError("Out of range index")}if(n<=r){return this}r=r>>>0;n=n===undefined?this.length:n>>>0;if(!t)t=0;var s;if(typeof t==="number"){for(s=r;s<n;++s){this[s]=t}}else{var a=u.isBuffer(t)?t:G(new u(t,i).toString());var f=a.length;for(s=0;s<n-r;++s){this[s+r]=a[s%f]}}return this};var X=/[^+\/0-9A-Za-z-_]/g;function V(e){e=J(e).replace(X,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function J(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function K(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function G(e,t){t=t||Infinity;var r;var n=e.length;var i=null;var o=[];for(var s=0;s<n;++s){r=e.charCodeAt(s);if(r>55295&&r<57344){if(!i){if(r>56319){if((t-=3)>-1)o.push(239,191,189);continue}else if(s+1===n){if((t-=3)>-1)o.push(239,191,189);continue}i=r;continue}if(r<56320){if((t-=3)>-1)o.push(239,191,189);i=r;continue}r=(i-55296<<10|r-56320)+65536}else if(i){if((t-=3)>-1)o.push(239,191,189)}i=null;if(r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return o}function Z(e){var t=[];for(var r=0;r<e.length;++r){t.push(e.charCodeAt(r)&255)}return t}function $(e,t){var r,n,i;var o=[];for(var s=0;s<e.length;++s){if((t-=2)<0)break;r=e.charCodeAt(s);n=r>>8;i=r%256;o.push(i);o.push(n)}return o}function Q(e){return n.toByteArray(V(e))}function ee(e,t,r,n){for(var i=0;i<n;++i){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}function te(e){return e!==e}}).call(t,r(0))},function(e,t,r){"use strict";var n=r(11);var i=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};e.exports=h;var o=r(6);o.inherits=r(2);var s=r(26);var a=r(30);o.inherits(h,s);var f=i(a.prototype);for(var u=0;u<f.length;u++){var c=f[u];if(!h.prototype[c])h.prototype[c]=a.prototype[c]}function h(e){if(!(this instanceof h))return new h(e);s.call(this,e);a.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",l)}function l(){if(this.allowHalfOpen||this._writableState.ended)return;n(p,this)}function p(e){e.end()}Object.defineProperty(h.prototype,"destroyed",{get:function(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function(e){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=e;this._writableState.destroyed=e}});h.prototype._destroy=function(e,t){this.push(null);this.end();n(t,e)};function d(e,t){for(var r=0,n=e.length;r<n;r++){t(e[r],r)}}},function(e,t,r){var n={iceServers:[{url:"stun:stun.l.google.com:19302"}]};var i=1;var o=r(16);var s=r(7).RTCPeerConnection;var a={noop:function(){},CLOUD_HOST:"0.peerjs.com",CLOUD_PORT:9e3,chunkedBrowsers:{Chrome:1},chunkedMTU:16300,logLevel:0,setLogLevel:function(e){var t=parseInt(e,10);if(!isNaN(parseInt(e,10))){a.logLevel=t}else{a.logLevel=e?3:0}a.log=a.warn=a.error=a.noop;if(a.logLevel>0){a.error=a._printWith("ERROR")}if(a.logLevel>1){a.warn=a._printWith("WARNING")}if(a.logLevel>2){a.log=a._print}},setLogFunction:function(e){if(e.constructor!==Function){a.warn("The log function you passed in is not a function. Defaulting to regular logs.")}else{a._print=e}},_printWith:function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);a._print.apply(a,t)}},_print:function(){var e=false;var t=Array.prototype.slice.call(arguments);t.unshift("PeerJS: ");for(var r=0,n=t.length;r<n;r++){if(t[r]instanceof Error){t[r]="("+t[r].name+") "+t[r].message;e=true}}e?console.error.apply(console,t):console.log.apply(console,t)},defaultConfig:n,browser:function(){if(window.mozRTCPeerConnection){return"Firefox"}else if(window.webkitRTCPeerConnection){return"Chrome"}else if(window.RTCPeerConnection){return"Supported"}else{return"Unsupported"}}(),supports:function(){if(typeof s==="undefined"){return{}}var e=true;var t=true;var r=false;var i=false;var o=!!window.webkitRTCPeerConnection;var f,u;try{f=new s(n,{optional:[{RtpDataChannels:true}]})}catch(r){e=false;t=false}if(e){try{u=f.createDataChannel("_PEERJSTEST")}catch(t){e=false}}if(e){try{u.binaryType="blob";r=true}catch(e){}var c=new s(n,{});try{var h=c.createDataChannel("_PEERJSRELIABLETEST",{});i=h.reliable}catch(e){}c.close()}if(t){t=!!f.addStream}if(!o&&e){var l=new s(n,{optional:[{RtpDataChannels:true}]});l.onnegotiationneeded=function(){o=true;if(a&&a.supports){a.supports.onnegotiationneeded=true}};l.createDataChannel("_PEERJSNEGOTIATIONTEST");setTimeout(function(){l.close()},1e3)}if(f){f.close()}return{audioVideo:t,data:e,binaryBlob:r,binary:i,reliable:i,sctp:i,onnegotiationneeded:o}}(),validateId:function(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.exec(e)},validateKey:function(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.exec(e)},debug:false,inherits:function(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})},extend:function(e,t){for(var r in t){if(t.hasOwnProperty(r)){e[r]=t[r]}}return e},pack:o.pack,unpack:o.unpack,log:function(){if(a.debug){var e=false;var t=Array.prototype.slice.call(arguments);t.unshift("PeerJS: ");for(var r=0,n=t.length;r<n;r++){if(t[r]instanceof Error){t[r]="("+t[r].name+") "+t[r].message;e=true}}e?console.error.apply(console,t):console.log.apply(console,t)}},setZeroTimeout:function(e){var t=[];var r="zero-timeout-message";function n(n){t.push(n);e.postMessage(r,"*")}function i(n){if(n.source==e&&n.data==r){if(n.stopPropagation){n.stopPropagation()}if(t.length){t.shift()()}}}if(e.addEventListener){e.addEventListener("message",i,true)}else if(e.attachEvent){e.attachEvent("onmessage",i)}return n}(window),chunk:function(e){var t=[];var r=e.size;var n=index=0;var o=Math.ceil(r/a.chunkedMTU);while(n<r){var s=Math.min(r,n+a.chunkedMTU);var f=e.slice(n,s);var u={__peerData:i,n:index,data:f,total:o};t.push(u);n=s;index+=1}i+=1;return t},blobToArrayBuffer:function(e,t){var r=new FileReader;r.onload=function(e){t(e.target.result)};r.readAsArrayBuffer(e)},blobToBinaryString:function(e,t){var r=new FileReader;r.onload=function(e){t(e.target.result)};r.readAsBinaryString(e)},binaryStringToArrayBuffer:function(e){var t=new Uint8Array(e.length);for(var r=0;r<e.length;r++){t[r]=e.charCodeAt(r)&255}return t.buffer},randomToken:function(){return Math.random().toString(36).substr(2)},isSecure:function(){return location.protocol==="https:"}};e.exports=a},function(e,t,r){(function(e){function r(e){if(Array.isArray){return Array.isArray(e)}return y(e)==="[object Array]"}t.isArray=r;function n(e){return typeof e==="boolean"}t.isBoolean=n;function i(e){return e===null}t.isNull=i;function o(e){return e==null}t.isNullOrUndefined=o;function s(e){return typeof e==="number"}t.isNumber=s;function a(e){return typeof e==="string"}t.isString=a;function f(e){return typeof e==="symbol"}t.isSymbol=f;function u(e){return e===void 0}t.isUndefined=u;function c(e){return y(e)==="[object RegExp]"}t.isRegExp=c;function h(e){return typeof e==="object"&&e!==null}t.isObject=h;function l(e){return y(e)==="[object Date]"}t.isDate=l;function p(e){return y(e)==="[object Error]"||e instanceof Error}t.isError=p;function d(e){return typeof e==="function"}t.isFunction=d;function v(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}t.isPrimitive=v;t.isBuffer=e.isBuffer;function y(e){return Object.prototype.toString.call(e)}}).call(t,r(3).Buffer)},function(e,t){e.exports.RTCSessionDescription=window.RTCSessionDescription||window.mozRTCSessionDescription;e.exports.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;e.exports.RTCIceCandidate=window.RTCIceCandidate||window.mozRTCIceCandidate},function(e,t,r){"use strict";function n(e,t,r){this.fn=e;this.context=t;this.once=r||false}function i(){}i.prototype._events=undefined;i.prototype.listeners=function e(t){if(!this._events||!this._events[t])return[];if(this._events[t].fn)return[this._events[t].fn];for(var r=0,n=this._events[t].length,i=new Array(n);r<n;r++){i[r]=this._events[t][r].fn}return i};i.prototype.emit=function e(t,r,n,i,o,s){if(!this._events||!this._events[t])return false;var a=this._events[t],f=arguments.length,u,c;if("function"===typeof a.fn){if(a.once)this.removeListener(t,a.fn,true);switch(f){case 1:return a.fn.call(a.context),true;case 2:return a.fn.call(a.context,r),true;case 3:return a.fn.call(a.context,r,n),true;case 4:return a.fn.call(a.context,r,n,i),true;case 5:return a.fn.call(a.context,r,n,i,o),true;case 6:return a.fn.call(a.context,r,n,i,o,s),true}for(c=1,u=new Array(f-1);c<f;c++){u[c-1]=arguments[c]}a.fn.apply(a.context,u)}else{var h=a.length,l;for(c=0;c<h;c++){if(a[c].once)this.removeListener(t,a[c].fn,true);switch(f){case 1:a[c].fn.call(a[c].context);break;case 2:a[c].fn.call(a[c].context,r);break;case 3:a[c].fn.call(a[c].context,r,n);break;default:if(!u)for(l=1,u=new Array(f-1);l<f;l++){u[l-1]=arguments[l]}a[c].fn.apply(a[c].context,u)}}}return true};i.prototype.on=function e(t,r,i){var o=new n(r,i||this);if(!this._events)this._events={};if(!this._events[t])this._events[t]=o;else{if(!this._events[t].fn)this._events[t].push(o);else this._events[t]=[this._events[t],o]}return this};i.prototype.once=function e(t,r,i){var o=new n(r,i||this,true);if(!this._events)this._events={};if(!this._events[t])this._events[t]=o;else{if(!this._events[t].fn)this._events[t].push(o);else this._events[t]=[this._events[t],o]}return this};i.prototype.removeListener=function e(t,r,n){if(!this._events||!this._events[t])return this;var i=this._events[t],o=[];if(r){if(i.fn&&(i.fn!==r||n&&!i.once)){o.push(i)}if(!i.fn)for(var s=0,a=i.length;s<a;s++){if(i[s].fn!==r||n&&!i[s].once){o.push(i[s])}}}if(o.length){this._events[t]=o.length===1?o[0]:o}else{delete this._events[t]}return this};i.prototype.removeAllListeners=function e(t){if(!this._events)return this;if(t)delete this._events[t];else this._events={};return this};i.prototype.off=i.prototype.removeListener;i.prototype.addListener=i.prototype.on;i.prototype.setMaxListeners=function e(){return this};i.EventEmitter=i;i.EventEmitter2=i;i.EventEmitter3=i;e.exports=i},function(e,t,r){"use strict";var n=r(10);e.exports=i;function i(e){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");if(typeof e!=="function")throw new TypeError("not a function");var t=null;var r=null;var i=[];var a=this;this.then=function(e,t){return new a.constructor(function(r,n){f(new o(e,t,r,n))})};function f(e){if(t===null){i.push(e);return}n(function(){var n=t?e.onFulfilled:e.onRejected;if(n===null){(t?e.resolve:e.reject)(r);return}var i;try{i=n(r)}catch(t){e.reject(t);return}e.resolve(i)})}function u(e){try{if(e===a)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e==="object"||typeof e==="function")){var n=e.then;if(typeof n==="function"){s(n.bind(e),u,c);return}}t=true;r=e;h()}catch(e){c(e)}}function c(e){t=false;r=e;h()}function h(){for(var e=0,t=i.length;e<t;e++)f(i[e]);i=null}s(e,u,c)}function o(e,t,r,n){this.onFulfilled=typeof e==="function"?e:null;this.onRejected=typeof t==="function"?t:null;this.resolve=r;this.reject=n}function s(e,t,r){var n=false;try{e(function(e){if(n)return;n=true;t(e)},function(e){if(n)return;n=true;r(e)})}catch(e){if(n)return;n=true;r(e)}}},function(e,t,r){(function(t,r){var n={task:void 0,next:null};var i=n;var o=false;var s=void 0;var a=false;function f(){while(n.next){n=n.next;var e=n.task;n.task=void 0;var t=n.domain;if(t){n.domain=void 0;t.enter()}try{e()}catch(e){if(a){if(t){t.exit()}setTimeout(f,0);if(t){t.enter()}throw e}else{setTimeout(function(){throw e},0)}}if(t){t.exit()}}o=false}if(typeof t!=="undefined"&&t.nextTick){a=true;s=function(){t.nextTick(f)}}else if(typeof r==="function"){if(typeof window!=="undefined"){s=r.bind(window,f)}else{s=function(){r(f)}}}else if(typeof MessageChannel!=="undefined"){var u=new MessageChannel;u.port1.onmessage=f;s=function(){u.port2.postMessage(0)}}else{s=function(){setTimeout(f,0)}}function c(e){i=i.next={task:e,domain:a&&t.domain,next:null};if(!o){o=true;s()}}e.exports=c}).call(t,r(1),r(21).setImmediate)},function(e,t,r){"use strict";(function(t){if(!t.version||t.version.indexOf("v0.")===0||t.version.indexOf("v1.")===0&&t.version.indexOf("v1.8.")!==0){e.exports=r}else{e.exports=t.nextTick}function r(e,r,n,i){if(typeof e!=="function"){throw new TypeError('"callback" argument must be a function')}var o=arguments.length;var s,a;switch(o){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function t(){e.call(null,r)});case 3:return t.nextTick(function t(){e.call(null,r,n)});case 4:return t.nextTick(function t(){e.call(null,r,n,i)});default:s=new Array(o-1);a=0;while(a<s.length){s[a++]=arguments[a]}return t.nextTick(function t(){e.apply(null,s)})}}}).call(t,r(1))},function(e,t,r){var n=r(3);var i=n.Buffer;function o(e,t){for(var r in e){t[r]=e[r]}}if(i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow){e.exports=n}else{o(n,t);t.Buffer=s}function s(e,t,r){return i(e,t,r)}o(i,s);s.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return i(e,t,r)};s.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var n=i(e);if(t!==undefined){if(typeof r==="string"){n.fill(t,r)}else{n.fill(t)}}else{n.fill(0)}return n};s.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return i(e)};s.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n.SlowBuffer(e)}},,,function(e,t,r){var n=r(5);var i=r(8);var o=r(53);var s=r(54);var a=r(55);function f(e,t){if(!(this instanceof f))return new f(e,t);i.call(this);if(e&&e.constructor==Object){t=e;e=undefined}else if(e){e=e.toString()}t=n.extend({debug:0,host:n.CLOUD_HOST,port:n.CLOUD_PORT,key:"peerjs",path:"/",token:n.randomToken(),config:n.defaultConfig},t);this.options=t;if(t.host==="/"){t.host=window.location.hostname}if(t.path[0]!=="/"){t.path="/"+t.path}if(t.path[t.path.length-1]!=="/"){t.path+="/"}if(t.secure===undefined&&t.host!==n.CLOUD_HOST){t.secure=n.isSecure()}if(t.logFunction){n.setLogFunction(t.logFunction)}n.setLogLevel(t.debug);if(!n.supports.audioVideo&&!n.supports.data){this._delayedAbort("browser-incompatible","The current browser does not support WebRTC");return}if(!n.validateId(e)){this._delayedAbort("invalid-id",'ID "'+e+'" is invalid');return}if(!n.validateKey(t.key)){this._delayedAbort("invalid-key",'API KEY "'+t.key+'" is invalid');return}if(t.secure&&t.host==="0.peerjs.com"){this._delayedAbort("ssl-unavailable","The cloud server currently does not support HTTPS. Please run your own PeerServer to use HTTPS.");return}this.destroyed=false;this.disconnected=false;this.open=false;this.connections={};this._lostMessages={};this._initializeServerConnection();if(e){this._initialize(e)}else{this._retrieveId()}}n.inherits(f,i);f.prototype._initializeServerConnection=function(){var e=this;this.socket=new o(this.options.secure,this.options.host,this.options.port,this.options.path,this.options.key);this.socket.on("message",function(t){e._handleMessage(t)});this.socket.on("error",function(t){e._abort("socket-error",t)});this.socket.on("disconnected",function(){if(!e.disconnected){e.emitError("network","Lost connection to server.");e.disconnect()}});this.socket.on("close",function(){if(!e.disconnected){e._abort("socket-closed","Underlying socket is already closed.")}})};f.prototype._retrieveId=function(e){var t=this;var r=new XMLHttpRequest;var i=this.options.secure?"https://":"http://";var o=i+this.options.host+":"+this.options.port+this.options.path+this.options.key+"/id";var s="?ts="+(new Date).getTime()+""+Math.random();o+=s;r.open("get",o,true);r.onerror=function(e){n.error("Error retrieving ID",e);var r="";if(t.options.path==="/"&&t.options.host!==n.CLOUD_HOST){r=" If you passed in a `path` to your self-hosted PeerServer, "+"you'll also need to pass in that same path when creating a new "+"Peer."}t._abort("server-error","Could not get an ID from the server."+r)};r.onreadystatechange=function(){if(r.readyState!==4){return}if(r.status!==200){r.onerror();return}t._initialize(r.responseText)};r.send(null)};f.prototype._initialize=function(e){this.id=e;this.socket.start(this.id,this.options.token)};f.prototype._handleMessage=function(e){var t=e.type;var r=e.payload;var i=e.src;var o;switch(t){case"OPEN":this.emit("open",this.id);this.open=true;break;case"ERROR":this._abort("server-error",r.msg);break;case"ID-TAKEN":this._abort("unavailable-id","ID `"+this.id+"` is taken");break;case"INVALID-KEY":this._abort("invalid-key",'API KEY "'+this.options.key+'" is invalid');break;case"LEAVE":n.log("Received leave message from",i);this._cleanupPeer(i);break;case"EXPIRE":this.emitError("peer-unavailable","Could not connect to peer "+i);break;case"OFFER":var f=r.connectionId;o=this.getConnection(i,f);if(o){n.warn("Offer received for existing Connection ID:",f)}else{if(r.type==="media"){o=new s(i,this,{connectionId:f,_payload:r,metadata:r.metadata});this._addConnection(i,o);this.emit("call",o)}else if(r.type==="data"){o=new a(i,this,{connectionId:f,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});this._addConnection(i,o);this.emit("connection",o)}else{n.warn("Received malformed connection type:",r.type);return}var u=this._getMessages(f);for(var c=0,h=u.length;c<h;c+=1){o.handleMessage(u[c])}}break;default:if(!r){n.warn("You received a malformed message from "+i+" of type "+t);return}var l=r.connectionId;o=this.getConnection(i,l);if(o&&o.pc){o.handleMessage(e)}else if(l){this._storeMessage(l,e)}else{n.warn("You received an unrecognized message:",e)}break}};f.prototype._storeMessage=function(e,t){if(!this._lostMessages[e]){this._lostMessages[e]=[]}this._lostMessages[e].push(t)};f.prototype._getMessages=function(e){var t=this._lostMessages[e];if(t){delete this._lostMessages[e];return t}else{return[]}};f.prototype.connect=function(e,t){if(this.disconnected){n.warn("You cannot connect to a new Peer because you called "+".disconnect() on this Peer and ended your connection with the "+"server. You can create a new Peer to reconnect, or call reconnect "+"on this peer if you believe its ID to still be available.");this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}var r=new a(e,this,t);this._addConnection(e,r);return r};f.prototype.call=function(e,t,r){if(this.disconnected){n.warn("You cannot connect to a new Peer because you called "+".disconnect() on this Peer and ended your connection with the "+"server. You can create a new Peer to reconnect.");this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");return}if(!t){n.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}r=r||{};r._stream=t;var i=new s(e,this,r);this._addConnection(e,i);return i};f.prototype._addConnection=function(e,t){if(!this.connections[e]){this.connections[e]=[]}this.connections[e].push(t)};f.prototype.getConnection=function(e,t){var r=this.connections[e];if(!r){return null}for(var n=0,i=r.length;n<i;n++){if(r[n].id===t){return r[n]}}return null};f.prototype._delayedAbort=function(e,t){var r=this;n.setZeroTimeout(function(){r._abort(e,t)})};f.prototype._abort=function(e,t){n.error("Aborting!");if(!this._lastServerId){this.destroy()}else{this.disconnect()}this.emitError(e,t)};f.prototype.emitError=function(e,t){n.error("Error:",t);if(typeof t==="string"){t=new Error(t)}t.type=e;this.emit("error",t)};f.prototype.destroy=function(){if(!this.destroyed){this._cleanup();this.disconnect();this.destroyed=true}};f.prototype._cleanup=function(){if(this.connections){var e=Object.keys(this.connections);for(var t=0,r=e.length;t<r;t++){this._cleanupPeer(e[t])}}this.emit("close")};f.prototype._cleanupPeer=function(e){var t=this.connections[e];for(var r=0,n=t.length;r<n;r+=1){t[r].close()}};f.prototype.disconnect=function(){var e=this;n.setZeroTimeout(function(){if(!e.disconnected){e.disconnected=true;e.open=false;if(e.socket){e.socket.close()}e.emit("disconnected",e.id);e._lastServerId=e.id;e.id=null}})};f.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed){n.log("Attempting reconnection to server with ID "+this._lastServerId);this.disconnected=false;this._initializeServerConnection();this._initialize(this._lastServerId)}else if(this.destroyed){throw new Error("This peer cannot reconnect to the server. It has already been destroyed.")}else if(!this.disconnected&&!this.open){n.error("In a hurry? We're still trying to make the initial connection!")}else{throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!")}};f.prototype.listAllPeers=function(e){e=e||function(){};var t=this;var r=new XMLHttpRequest;var i=this.options.secure?"https://":"http://";var o=i+this.options.host+":"+this.options.port+this.options.path+this.options.key+"/peers";var s="?ts="+(new Date).getTime()+""+Math.random();o+=s;r.open("get",o,true);r.onerror=function(r){t._abort("server-error","Could not get peers from the server.");e([])};r.onreadystatechange=function(){if(r.readyState!==4){return}if(r.status===401){var i="";if(t.options.host!==n.CLOUD_HOST){i="It looks like you're using the cloud server. You can email "+"team@peerjs.com to enable peer listing for your API key."}else{i="You need to enable `allow_discovery` on your self-hosted "+"PeerServer to use this feature."}e([]);throw new Error("It doesn't look like you have permission to list peers IDs. "+i)}else if(r.status!==200){e([])}else{e(JSON.parse(r.responseText))}};r.send(null)};e.exports=f},function(e,t,r){var n=r(17).BufferBuilder;var i=r(17).binaryFeatures;var o={unpack:function(e){var t=new s(e);return t.unpack()},pack:function(e){var t=new a;t.pack(e);var r=t.getBuffer();return r}};e.exports=o;function s(e){this.index=0;this.dataBuffer=e;this.dataView=new Uint8Array(this.dataBuffer);this.length=this.dataBuffer.byteLength}s.prototype.unpack=function(){var e=this.unpack_uint8();if(e<128){var t=e;return t}else if((e^224)<32){var r=(e^224)-32;return r}var n;if((n=e^160)<=15){return this.unpack_raw(n)}else if((n=e^176)<=15){return this.unpack_string(n)}else if((n=e^144)<=15){return this.unpack_array(n)}else if((n=e^128)<=15){return this.unpack_map(n)}switch(e){case 192:return null;case 193:return undefined;case 194:return false;case 195:return true;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return undefined;case 213:return undefined;case 214:return undefined;case 215:return undefined;case 216:n=this.unpack_uint16();return this.unpack_string(n);case 217:n=this.unpack_uint32();return this.unpack_string(n);case 218:n=this.unpack_uint16();return this.unpack_raw(n);case 219:n=this.unpack_uint32();return this.unpack_raw(n);case 220:n=this.unpack_uint16();return this.unpack_array(n);case 221:n=this.unpack_uint32();return this.unpack_array(n);case 222:n=this.unpack_uint16();return this.unpack_map(n);case 223:n=this.unpack_uint32();return this.unpack_map(n)}};s.prototype.unpack_uint8=function(){var e=this.dataView[this.index]&255;this.index++;return e};s.prototype.unpack_uint16=function(){var e=this.read(2);var t=(e[0]&255)*256+(e[1]&255);this.index+=2;return t};s.prototype.unpack_uint32=function(){var e=this.read(4);var t=((e[0]*256+e[1])*256+e[2])*256+e[3];this.index+=4;return t};s.prototype.unpack_uint64=function(){var e=this.read(8);var t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];this.index+=8;return t};s.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-(1<<8)};s.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-(1<<16)};s.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)};s.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)};s.prototype.unpack_raw=function(e){if(this.length<this.index+e){throw new Error("BinaryPackFailure: index is out of range"+" "+this.index+" "+e+" "+this.length)}var t=this.dataBuffer.slice(this.index,this.index+e);this.index+=e;return t};s.prototype.unpack_string=function(e){var t=this.read(e);var r=0,n="",i,o;while(r<e){i=t[r];if(i<128){n+=String.fromCharCode(i);r++}else if((i^192)<32){o=(i^192)<<6|t[r+1]&63;n+=String.fromCharCode(o);r+=2}else{o=(i&15)<<12|(t[r+1]&63)<<6|t[r+2]&63;n+=String.fromCharCode(o);r+=3}}this.index+=e;return n};s.prototype.unpack_array=function(e){var t=new Array(e);for(var r=0;r<e;r++){t[r]=this.unpack()}return t};s.prototype.unpack_map=function(e){var t={};for(var r=0;r<e;r++){var n=this.unpack();var i=this.unpack();t[n]=i}return t};s.prototype.unpack_float=function(){var e=this.unpack_uint32();var t=e>>31;var r=(e>>23&255)-127;var n=e&8388607|8388608;return(t==0?1:-1)*n*Math.pow(2,r-23)};s.prototype.unpack_double=function(){var e=this.unpack_uint32();var t=this.unpack_uint32();var r=e>>31;var n=(e>>20&2047)-1023;var i=e&1048575|1048576;var o=i*Math.pow(2,n-20)+t*Math.pow(2,n-52);return(r==0?1:-1)*o};s.prototype.read=function(e){var t=this.index;if(t+e<=this.length){return this.dataView.subarray(t,t+e)}else{throw new Error("BinaryPackFailure: read index out of range")}};function a(){this.bufferBuilder=new n}a.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()};a.prototype.pack=function(e){var t=typeof e;if(t=="string"){this.pack_string(e)}else if(t=="number"){if(Math.floor(e)===e){this.pack_integer(e)}else{this.pack_double(e)}}else if(t=="boolean"){if(e===true){this.bufferBuilder.append(195)}else if(e===false){this.bufferBuilder.append(194)}}else if(t=="undefined"){this.bufferBuilder.append(192)}else if(t=="object"){if(e===null){this.bufferBuilder.append(192)}else{var r=e.constructor;if(r==Array){this.pack_array(e)}else if(r==Blob||r==File){this.pack_bin(e)}else if(r==ArrayBuffer){if(i.useArrayBufferView){this.pack_bin(new Uint8Array(e))}else{this.pack_bin(e)}}else if("BYTES_PER_ELEMENT"in e){if(i.useArrayBufferView){this.pack_bin(new Uint8Array(e.buffer))}else{this.pack_bin(e.buffer)}}else if(r==Object){this.pack_object(e)}else if(r==Date){this.pack_string(e.toString())}else if(typeof e.toBinaryPack=="function"){this.bufferBuilder.append(e.toBinaryPack())}else{throw new Error('Type "'+r.toString()+'" not yet supported')}}}else{throw new Error('Type "'+t+'" not yet supported')}this.bufferBuilder.flush()};a.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15){this.pack_uint8(160+t)}else if(t<=65535){this.bufferBuilder.append(218);this.pack_uint16(t)}else if(t<=4294967295){this.bufferBuilder.append(219);this.pack_uint32(t)}else{throw new Error("Invalid length")}this.bufferBuilder.append(e)};a.prototype.pack_string=function(e){var t=u(e);if(t<=15){this.pack_uint8(176+t)}else if(t<=65535){this.bufferBuilder.append(216);this.pack_uint16(t)}else if(t<=4294967295){this.bufferBuilder.append(217);this.pack_uint32(t)}else{throw new Error("Invalid length")}this.bufferBuilder.append(e)};a.prototype.pack_array=function(e){var t=e.length;if(t<=15){this.pack_uint8(144+t)}else if(t<=65535){this.bufferBuilder.append(220);this.pack_uint16(t)}else if(t<=4294967295){this.bufferBuilder.append(221);this.pack_uint32(t)}else{throw new Error("Invalid length")}for(var r=0;r<t;r++){this.pack(e[r])}};a.prototype.pack_integer=function(e){if(-32<=e&&e<=127){this.bufferBuilder.append(e&255)}else if(0<=e&&e<=255){this.bufferBuilder.append(204);this.pack_uint8(e)}else if(-128<=e&&e<=127){this.bufferBuilder.append(208);this.pack_int8(e)}else if(0<=e&&e<=65535){this.bufferBuilder.append(205);this.pack_uint16(e)}else if(-32768<=e&&e<=32767){this.bufferBuilder.append(209);this.pack_int16(e)}else if(0<=e&&e<=4294967295){this.bufferBuilder.append(206);this.pack_uint32(e)}else if(-2147483648<=e&&e<=2147483647){this.bufferBuilder.append(210);this.pack_int32(e)}else if(-0x8000000000000000<=e&&e<=0x8000000000000000){this.bufferBuilder.append(211);this.pack_int64(e)}else if(0<=e&&e<=0x10000000000000000){this.bufferBuilder.append(207);this.pack_uint64(e)}else{throw new Error("Invalid integer")}};a.prototype.pack_double=function(e){var t=0;if(e<0){t=1;e=-e}var r=Math.floor(Math.log(e)/Math.LN2);var n=e/Math.pow(2,r)-1;var i=Math.floor(n*Math.pow(2,52));var o=Math.pow(2,32);var s=t<<31|r+1023<<20|i/o&1048575;var a=i%o;this.bufferBuilder.append(203);this.pack_int32(s);this.pack_int32(a)};a.prototype.pack_object=function(e){var t=Object.keys(e);var r=t.length;if(r<=15){this.pack_uint8(128+r)}else if(r<=65535){this.bufferBuilder.append(222);this.pack_uint16(r)}else if(r<=4294967295){this.bufferBuilder.append(223);this.pack_uint32(r)}else{throw new Error("Invalid length")}for(var n in e){if(e.hasOwnProperty(n)){this.pack(n);this.pack(e[n])}}};a.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)};a.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8);this.bufferBuilder.append(e&255)};a.prototype.pack_uint32=function(e){var t=e&4294967295;this.bufferBuilder.append((t&4278190080)>>>24);this.bufferBuilder.append((t&16711680)>>>16);this.bufferBuilder.append((t&65280)>>>8);this.bufferBuilder.append(t&255)};a.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32);var r=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24);this.bufferBuilder.append((t&16711680)>>>16);this.bufferBuilder.append((t&65280)>>>8);this.bufferBuilder.append(t&255);this.bufferBuilder.append((r&4278190080)>>>24);this.bufferBuilder.append((r&16711680)>>>16);this.bufferBuilder.append((r&65280)>>>8);this.bufferBuilder.append(r&255)};a.prototype.pack_int8=function(e){this.bufferBuilder.append(e&255)};a.prototype.pack_int16=function(e){this.bufferBuilder.append((e&65280)>>8);this.bufferBuilder.append(e&255)};a.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255);this.bufferBuilder.append((e&16711680)>>>16);this.bufferBuilder.append((e&65280)>>>8);this.bufferBuilder.append(e&255)};a.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32));var r=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24);this.bufferBuilder.append((t&16711680)>>>16);this.bufferBuilder.append((t&65280)>>>8);this.bufferBuilder.append(t&255);this.bufferBuilder.append((r&4278190080)>>>24);this.bufferBuilder.append((r&16711680)>>>16);this.bufferBuilder.append((r&65280)>>>8);this.bufferBuilder.append(r&255)};function f(e){var t=e.charCodeAt(0);if(t<=2047)return"00";if(t<=65535)return"000";if(t<=2097151)return"0000";if(t<=67108863)return"00000";return"000000"}function u(e){if(e.length>600){return new Blob([e]).size}else{return e.replace(/[^\u0000-\u007F]/g,f).length}}},function(e,t){var r={};r.useBlobBuilder=function(){try{new Blob([]);return false}catch(e){return true}}();r.useArrayBufferView=!r.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch(e){return true}}();e.exports.binaryFeatures=r;var n=e.exports.BlobBuilder;if(typeof window!="undefined"){n=e.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder}function i(){this._pieces=[];this._parts=[]}i.prototype.append=function(e){if(typeof e==="number"){this._pieces.push(e)}else{this.flush();this._parts.push(e)}};i.prototype.flush=function(){if(this._pieces.length>0){var e=new Uint8Array(this._pieces);if(!r.useArrayBufferView){e=e.buffer}this._parts.push(e);this._pieces=[]}};i.prototype.getBuffer=function(){this.flush();if(r.useBlobBuilder){var e=new n;for(var t=0,i=this._parts.length;t<i;t++){e.append(this._parts[t])}return e.getBlob()}else{return new Blob(this._parts)}};e.exports.BufferBuilder=i},function(e,t,r){var n=r(5);var i=r(7).RTCPeerConnection;var o=r(7).RTCSessionDescription;var s=r(7).RTCIceCandidate;var a={pcs:{data:{},media:{}},queue:[]};a._idPrefix="pc_";a.startConnection=function(e,t){var r=a._getPeerConnection(e,t);if(e.type==="media"&&t._stream){r.addStream(t._stream)}e.pc=e.peerConnection=r;if(t.originator){if(e.type==="data"){var i={};if(!n.supports.sctp){i={reliable:t.reliable}}var o=r.createDataChannel(e.label,i);e.initialize(o)}if(!n.supports.onnegotiationneeded){a._makeOffer(e)}}else{a.handleSDP("OFFER",e,t.sdp)}};a._getPeerConnection=function(e,t){if(!a.pcs[e.type]){n.error(e.type+" is not a valid connection type. Maybe you overrode the `type` property somewhere.")}if(!a.pcs[e.type][e.peer]){a.pcs[e.type][e.peer]={}}var r=a.pcs[e.type][e.peer];var i;if(t.pc){i=a.pcs[e.type][e.peer][t.pc]}if(!i||i.signalingState!=="stable"){i=a._startPeerConnection(e)}return i};a._startPeerConnection=function(e){n.log("Creating RTCPeerConnection.");var t=a._idPrefix+n.randomToken();var r={};if(e.type==="data"&&!n.supports.sctp){r={optional:[{RtpDataChannels:true}]}}else if(e.type==="media"){r={optional:[{DtlsSrtpKeyAgreement:true}]}}var o=new i(e.provider.options.config,r);a.pcs[e.type][e.peer][t]=o;a._setupListeners(e,o,t);return o};a._setupListeners=function(e,t,r){var i=e.peer;var o=e.id;var s=e.provider;n.log("Listening for ICE candidates.");t.onicecandidate=function(t){if(t.candidate){n.log("Received ICE candidates for:",e.peer);s.socket.send({type:"CANDIDATE",payload:{candidate:t.candidate,type:e.type,connectionId:e.id},dst:i})}};t.oniceconnectionstatechange=function(){switch(t.iceConnectionState){case"disconnected":case"failed":n.log("iceConnectionState is disconnected, closing connections to "+i);e.close();break;case"completed":t.onicecandidate=n.noop;break}};t.onicechange=t.oniceconnectionstatechange;n.log("Listening for `negotiationneeded`");t.onnegotiationneeded=function(){n.log("`negotiationneeded` triggered");if(t.signalingState=="stable"){a._makeOffer(e)}else{n.log("onnegotiationneeded triggered when not stable. Is another connection being established?")}};n.log("Listening for data channel");t.ondatachannel=function(e){n.log("Received data channel");var t=e.channel;var r=s.getConnection(i,o);r.initialize(t)};n.log("Listening for remote stream");t.onaddstream=function(e){n.log("Received remote stream");var t=e.stream;var r=s.getConnection(i,o);if(r.type==="media"){r.addStream(t)}}};a.cleanup=function(e){n.log("Cleaning up PeerConnection to "+e.peer);var t=e.pc;if(!!t&&(t.readyState!=="closed"||t.signalingState!=="closed")){t.close();e.pc=null}};a._makeOffer=function(e){var t=e.pc;t.createOffer(function(r){n.log("Created offer.");if(!n.supports.sctp&&e.type==="data"&&e.reliable){r.sdp=Reliable.higherBandwidthSDP(r.sdp)}t.setLocalDescription(r,function(){n.log("Set localDescription: offer","for:",e.peer);e.provider.socket.send({type:"OFFER",payload:{sdp:r,type:e.type,label:e.label,connectionId:e.id,reliable:e.reliable,serialization:e.serialization,metadata:e.metadata,browser:n.browser},dst:e.peer})},function(t){e.provider.emitError("webrtc",t);n.log("Failed to setLocalDescription, ",t)})},function(t){e.provider.emitError("webrtc",t);n.log("Failed to createOffer, ",t)},e.options.constraints)};a._makeAnswer=function(e){var t=e.pc;t.createAnswer(function(r){n.log("Created answer.");if(!n.supports.sctp&&e.type==="data"&&e.reliable){r.sdp=Reliable.higherBandwidthSDP(r.sdp)}t.setLocalDescription(r,function(){n.log("Set localDescription: answer","for:",e.peer);e.provider.socket.send({type:"ANSWER",payload:{sdp:r,type:e.type,connectionId:e.id,browser:n.browser},dst:e.peer})},function(t){e.provider.emitError("webrtc",t);n.log("Failed to setLocalDescription, ",t)})},function(t){e.provider.emitError("webrtc",t);n.log("Failed to create answer, ",t)})};a.handleSDP=function(e,t,r){r=new o(r);var i=t.pc;n.log("Setting remote description",r);i.setRemoteDescription(r,function(){n.log("Set remoteDescription:",e,"for:",t.peer);if(e==="OFFER"){a._makeAnswer(t)}},function(e){t.provider.emitError("webrtc",e);n.log("Failed to setRemoteDescription, ",e)})};a.handleCandidate=function(e,t){var r=t.candidate;var i=t.sdpMLineIndex;e.pc.addIceCandidate(new s({sdpMLineIndex:i,candidate:r}));n.log("Added ICE candidate for:",e.peer)};e.exports=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.create=d;var n=r(58);var i=l(n);var o=r(64);var s=l(o);var a=r(65);var f=l(a);var u=r(86);var c=h(u);function h(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}var p=r(20);function d(e){var t={options:{interval:60*60*1e3,timeout:1e4,delay:1e3,repeat:5,peers:[],server:null,now:Date.now},offset:0,_timeout:null,_inProgress:{},_isFirst:true,send:function e(r,i){try{f.post(r,i,function(e,i){if(e){n(e)}else{t.receive(r,i)}},t.options.timeout)}catch(e){n(e)}},receive:function e(r,n){if(n===undefined){n=r;r=undefined}if(n&&n.id in t._inProgress){t._inProgress[n.id](n.result)}else if(n&&n.id!==undefined){t.send(r,{jsonrpc:"2.0",id:n.id,result:t.now()})}},rpc:function e(r,n,o){return new p(function(e,s){var a=i.nextId();var f=setTimeout(function(){delete t._inProgress[a];s(new Error("Timeout"))},t.options.timeout);t._inProgress[a]=function(r){clearTimeout(f);delete t._inProgress[a];e(r)};t.send(r,{jsonrpc:"2.0",id:a,method:n,params:o})})},sync:function e(){t.emit("sync","start");var r=t.options.server?[t.options.server]:t.options.peers;return p.all(r.map(function(e){return t._syncWithPeer(e)})).then(function(e){var r=e.filter(function(e){return t._validOffset(e)});if(r.length>0){t.offset=s.mean(r);t.emit("change",t.offset)}t.emit("sync","end")})},_validOffset:function e(t){return t!==null&&!isNaN(t)&&isFinite(t)},_syncWithPeer:function e(r){var n=[];function o(){return t._getOffset(r).then(function(e){return n.push(e)})}function a(){return i.wait(t.options.delay).then(o)}function f(){return n.length<t.options.repeat}return o().then(function(){return i.whilst(f,a)}).then(function(){var e=n.filter(function(e){return e!==null});var t=e.map(function(e){return e.roundtrip});var r=s.median(t)+s.std(t);var i=e.filter(function(e){return e.roundtrip<r});var o=i.map(function(e){return e.offset});return o.length>0?s.mean(o):null})},_getOffset:function e(r){var n=Date.now();return t.rpc(r,"timesync").then(function(e){var r=Date.now();var i=r-n;var o=e-r+i/2;if(t._isFirst){t._isFirst=false;t.offset=o;t.emit("change",o)}return{roundtrip:i,offset:o}}).catch(function(e){return null})},now:function e(){return t.options.now()+t.offset},destroy:function e(){clearTimeout(t._timeout)}};if(e){if(e.server&&e.peers){throw new Error('Configure either option "peers" or "server", not both.')}for(var r in e){if(e.hasOwnProperty(r)){if(r==="peers"&&typeof e.peers==="string"){t.options.peers=e.peers.split(",").map(function(e){return e.trim()}).filter(function(e){return e!==""})}else{t.options[r]=e[r]}}}}(0,c.default)(t);function n(e){if(t.list("error").length>0){t.emit("error",e)}else{console.log("Error",e)}}if(t.options.interval!==null){t._timeout=setInterval(t.sync,t.options.interval);setTimeout(function(){t.sync().catch(function(e){return n(e)})},0)}return t}},function(e,t,r){"use strict";e.exports=typeof window==="undefined"||typeof window.Promise==="undefined"?r(59):window.Promise},function(e,t,r){var n=Function.prototype.apply;t.setTimeout=function(){return new i(n.call(setTimeout,window,arguments),clearTimeout)};t.setInterval=function(){return new i(n.call(setInterval,window,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(e){if(e){e.close()}};function i(e,t){this._id=e;this._clearFn=t}i.prototype.unref=i.prototype.ref=function(){};i.prototype.close=function(){this._clearFn.call(window,this._id)};t.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};t.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout(function t(){if(e._onTimeout)e._onTimeout()},t)}};r(60);t.setImmediate=setImmediate;t.clearImmediate=clearImmediate},function(e,t,r){(function(e){var n=r(68);var i=r(77);var o=r(78);var s=r(33);var a=t;a.request=function(t,r){if(typeof t==="string")t=s.parse(t);else t=i(t);var o=e.location.protocol.search(/^https?:$/)===-1?"http:":"";var a=t.protocol||o;var f=t.hostname||t.host;var u=t.port;var c=t.path||"/";if(f&&f.indexOf(":")!==-1)f="["+f+"]";t.url=(f?a+"//"+f:"")+(u?":"+u:"")+c;t.method=(t.method||"GET").toUpperCase();t.headers=t.headers||{};var h=new n(t);if(r)h.on("response",r);return h};a.get=function e(t,r){var n=a.request(t,r);n.end();return n};a.Agent=function(){};a.Agent.defaultMaxSockets=4;a.STATUS_CODES=o;a.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(t,r(0))},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return r.call(e)=="[object Array]"}},function(e,t,r){(function(e){t.fetch=a(e.fetch)&&a(e.ReadableStream);t.blobConstructor=false;try{new Blob([new ArrayBuffer(1)]);t.blobConstructor=true}catch(e){}var r;function n(){if(r!==undefined)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){r=null}}else{r=null}return r}function i(e){var t=n();if(!t)return false;try{t.responseType=e;return t.responseType===e}catch(e){}return false}var o=typeof e.ArrayBuffer!=="undefined";var s=o&&a(e.ArrayBuffer.prototype.slice);t.arraybuffer=t.fetch||o&&i("arraybuffer");t.msstream=!t.fetch&&s&&i("ms-stream");t.mozchunkedarraybuffer=!t.fetch&&o&&i("moz-chunked-arraybuffer");t.overrideMimeType=t.fetch||(n()?a(n().overrideMimeType):false);t.vbArray=a(e.VBArray);function a(e){return typeof e==="function"}r=null}).call(t,r(0))},function(e,t,r){t=e.exports=r(26);t.Stream=t;t.Readable=t;t.Writable=r(30);t.Duplex=r(4);t.Transform=r(32);t.PassThrough=r(75)},function(e,t,r){"use strict";(function(t,n){var i=r(11);e.exports=S;var o=r(23);var s;S.ReadableState=k;var a=r(27).EventEmitter;var f=function(e,t){return e.listeners(t).length};var u=r(28);var c=r(12).Buffer;var h=t.Uint8Array||function(){};function l(e){return c.from(e)}function p(e){return c.isBuffer(e)||e instanceof h}var d=r(6);d.inherits=r(2);var v=r(72);var y=void 0;if(v&&v.debuglog){y=v.debuglog("stream")}else{y=function(){}}var g=r(73);var b=r(29);var m;d.inherits(S,u);var _=["error","close","destroy","pause","resume"];function w(e,t,r){if(typeof e.prependListener==="function"){return e.prependListener(t,r)}else{if(!e._events||!e._events[t])e.on(t,r);else if(o(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}}function k(e,t){s=s||r(4);e=e||{};this.objectMode=!!e.objectMode;if(t instanceof s)this.objectMode=this.objectMode||!!e.readableObjectMode;var n=e.highWaterMark;var i=this.objectMode?16:16*1024;this.highWaterMark=n||n===0?n:i;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new g;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!m)m=r(31).StringDecoder;this.decoder=new m(e.encoding);this.encoding=e.encoding}}function S(e){s=s||r(4);if(!(this instanceof S))return new S(e);this._readableState=new k(e,this);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}u.call(this)}Object.defineProperty(S.prototype,"destroyed",{get:function(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function(e){if(!this._readableState){return}this._readableState.destroyed=e}});S.prototype.destroy=b.destroy;S.prototype._undestroy=b.undestroy;S.prototype._destroy=function(e,t){this.push(null);t(e)};S.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=c.from(e,t);t=""}n=true}}else{n=true}return E(this,e,t,false,n)};S.prototype.unshift=function(e){return E(this,e,null,true,false)};function E(e,t,r,n,i){var o=e._readableState;if(t===null){o.reading=false;P(e,o)}else{var s;if(!i)s=R(o,t);if(s){e.emit("error",s)}else if(o.objectMode||t&&t.length>0){if(typeof t!=="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==c.prototype){t=l(t)}if(n){if(o.endEmitted)e.emit("error",new Error("stream.unshift() after end event"));else T(e,o,t,true)}else if(o.ended){e.emit("error",new Error("stream.push() after EOF"))}else{o.reading=false;if(o.decoder&&!r){t=o.decoder.write(t);if(o.objectMode||t.length!==0)T(e,o,t,false);else L(e,o)}else{T(e,o,t,false)}}}else if(!n){o.reading=false}}return A(o)}function T(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){e.emit("data",r);e.read(0)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)M(e)}L(e,t)}function R(e,t){var r;if(!p(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new TypeError("Invalid non-string/buffer chunk")}return r}function A(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}S.prototype.isPaused=function(){return this._readableState.flowing===false};S.prototype.setEncoding=function(e){if(!m)m=r(31).StringDecoder;this._readableState.decoder=new m(e);this._readableState.encoding=e;return this};var x=8388608;function C(e){if(e>=x){e=x}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function B(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=C(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}S.prototype.read=function(e){y("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){y("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)W(this);else M(this);return null}e=B(e,t);if(e===0&&t.ended){if(t.length===0)W(this);return null}var n=t.needReadable;y("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;y("length less than watermark",n)}if(t.ended||t.reading){n=false;y("reading or ended",n)}else if(n){y("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=B(r,t)}var i;if(e>0)i=F(e,t);else i=null;if(i===null){t.needReadable=true;e=0}else{t.length-=e}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)W(this)}if(i!==null)this.emit("data",i);return i};function P(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;M(e)}function M(e){var t=e._readableState;t.needReadable=false;if(!t.emittedReadable){y("emitReadable",t.flowing);t.emittedReadable=true;if(t.sync)i(O,e);else O(e)}}function O(e){y("emit readable");e.emit("readable");q(e)}function L(e,t){if(!t.readingMore){t.readingMore=true;i(I,e,t)}}function I(e,t){var r=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){y("maybeReadMore read 0");e.read(0);if(r===t.length)break;else r=t.length}t.readingMore=false}S.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};S.prototype.pipe=function(e,t){var r=this;var o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e);break}o.pipesCount+=1;y("pipe count=%d opts=%j",o.pipesCount,t);var s=(!t||t.end!==false)&&e!==n.stdout&&e!==n.stderr;var a=s?c:_;if(o.endEmitted)i(a);else r.once("end",a);e.on("unpipe",u);function u(e,t){y("onunpipe");if(e===r){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;p()}}}function c(){y("onend");e.end()}var h=D(r);e.on("drain",h);var l=false;function p(){y("cleanup");e.removeListener("close",b);e.removeListener("finish",m);e.removeListener("drain",h);e.removeListener("error",g);e.removeListener("unpipe",u);r.removeListener("end",c);r.removeListener("end",_);r.removeListener("data",v);l=true;if(o.awaitDrain&&(!e._writableState||e._writableState.needDrain))h()}var d=false;r.on("data",v);function v(t){y("ondata");d=false;var n=e.write(t);if(false===n&&!d){if((o.pipesCount===1&&o.pipes===e||o.pipesCount>1&&J(o.pipes,e)!==-1)&&!l){y("false write response, pause",r._readableState.awaitDrain);r._readableState.awaitDrain++;d=true}r.pause()}}function g(t){y("onerror",t);_();e.removeListener("error",g);if(f(e,"error")===0)e.emit("error",t)}w(e,"error",g);function b(){e.removeListener("finish",m);_()}e.once("close",b);function m(){y("onfinish");e.removeListener("close",b);_()}e.once("finish",m);function _(){y("unpipe");r.unpipe(e)}e.emit("pipe",r);if(!o.flowing){y("pipe resume");r.resume()}return e};function D(e){return function(){var t=e._readableState;y("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&f(e,"data")){t.flowing=true;q(e)}}}S.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var o=0;o<i;o++){n[o].emit("unpipe",this,r)}return this}var s=J(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};S.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if(e==="data"){if(this._readableState.flowing!==false)this.resume()}else if(e==="readable"){var n=this._readableState;if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.emittedReadable=false;if(!n.reading){i(j,this)}else if(n.length){M(this)}}}return r};S.prototype.addListener=S.prototype.on;function j(e){y("readable nexttick read 0");e.read(0)}S.prototype.resume=function(){var e=this._readableState;if(!e.flowing){y("resume");e.flowing=true;U(this,e)}return this};function U(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;i(N,e,t)}}function N(e,t){if(!t.reading){y("resume read 0");e.read(0)}t.resumeScheduled=false;t.awaitDrain=0;e.emit("resume");q(e);if(t.flowing&&!t.reading)e.read(0)}S.prototype.pause=function(){y("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){y("pause");this._readableState.flowing=false;this.emit("pause")}return this};function q(e){var t=e._readableState;y("flow",t.flowing);while(t.flowing&&e.read()!==null){}}S.prototype.wrap=function(e){var t=this._readableState;var r=false;var n=this;e.on("end",function(){y("wrapped end");if(t.decoder&&!t.ended){var e=t.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});e.on("data",function(i){y("wrapped data");if(t.decoder)i=t.decoder.write(i);if(t.objectMode&&(i===null||i===undefined))return;else if(!t.objectMode&&(!i||!i.length))return;var o=n.push(i);if(!o){r=true;e.pause()}});for(var i in e){if(this[i]===undefined&&typeof e[i]==="function"){this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i)}}for(var o=0;o<_.length;o++){e.on(_[o],n.emit.bind(n,_[o]))}n._read=function(t){y("wrapped _read",t);if(r){r=false;e.resume()}};return n};S._fromList=F;function F(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.head.data;else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=z(e,t.buffer,t.decoder)}return r}function z(e,t,r){var n;if(e<t.head.data.length){n=t.head.data.slice(0,e);t.head.data=t.head.data.slice(e)}else if(e===t.head.data.length){n=t.shift()}else{n=r?Y(e,t):H(e,t)}return n}function Y(e,t){var r=t.head;var n=1;var i=r.data;e-=i.length;while(r=r.next){var o=r.data;var s=e>o.length?o.length:e;if(s===o.length)i+=o;else i+=o.slice(0,e);e-=s;if(e===0){if(s===o.length){++n;if(r.next)t.head=r.next;else t.head=t.tail=null}else{t.head=r;r.data=o.slice(s)}break}++n}t.length-=n;return i}function H(e,t){var r=c.allocUnsafe(e);var n=t.head;var i=1;n.data.copy(r);e-=n.data.length;while(n=n.next){var o=n.data;var s=e>o.length?o.length:e;o.copy(r,r.length-e,0,s);e-=s;if(e===0){if(s===o.length){++i;if(n.next)t.head=n.next;else t.head=t.tail=null}else{t.head=n;n.data=o.slice(s)}break}++i}t.length-=i;return r}function W(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!t.endEmitted){t.ended=true;i(X,t,e)}}function X(e,t){if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end")}}function V(e,t){for(var r=0,n=e.length;r<n;r++){t(e[r],r)}}function J(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(t,r(0),r(1))},function(e,t){function r(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}e.exports=r;r.EventEmitter=r;r.prototype._events=undefined;r.prototype._maxListeners=undefined;r.defaultMaxListeners=10;r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};r.prototype.emit=function(e){var t,r,i,a,f,u;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||o(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}else{var c=new Error('Uncaught, unspecified "error" event. ('+t+")");c.context=t;throw c}}}r=this._events[e];if(s(r))return false;if(n(r)){switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1);r.apply(this,a)}}else if(o(r)){a=Array.prototype.slice.call(arguments,1);u=r.slice();i=u.length;for(f=0;f<i;f++)u[f].apply(this,a)}return true};r.prototype.addListener=function(e,t){var i;if(!n(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,n(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(o(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(o(this._events[e])&&!this._events[e].warned){if(!s(this._maxListeners)){i=this._maxListeners}else{i=r.defaultMaxListeners}if(i&&i>0&&this._events[e].length>i){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};r.prototype.on=r.prototype.addListener;r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=false;function i(){this.removeListener(e,i);if(!r){r=true;t.apply(this,arguments)}}i.listener=t;this.on(e,i);return this};r.prototype.removeListener=function(e,t){var r,i,s,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;r=this._events[e];s=r.length;i=-1;if(r===t||n(r.listener)&&r.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(o(r)){for(a=s;a-- >0;){if(r[a]===t||r[a].listener&&r[a].listener===t){i=a;break}}if(i<0)return this;if(r.length===1){r.length=0;delete this._events[e]}else{r.splice(i,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}r=this._events[e];if(n(r)){this.removeListener(e,r)}else if(r){while(r.length)this.removeListener(e,r[r.length-1])}delete this._events[e];return this};r.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(n(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;else if(t)return t.length}return 0};r.listenerCount=function(e,t){return e.listenerCount(t)};function n(e){return typeof e==="function"}function i(e){return typeof e==="number"}function o(e){return typeof e==="object"&&e!==null}function s(e){return e===void 0}},function(e,t,r){e.exports=r(27).EventEmitter},function(e,t,r){"use strict";var n=r(11);function i(e,t){var r=this;var i=this._readableState&&this._readableState.destroyed;var o=this._writableState&&this._writableState.destroyed;if(i||o){if(t){t(e)}else if(e&&(!this._writableState||!this._writableState.errorEmitted)){n(s,this,e)}return}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){n(s,r,e);if(r._writableState){r._writableState.errorEmitted=true}}else if(t){t(e)}})}function o(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function s(e,t){e.emit("error",t)}e.exports={destroy:i,undestroy:o}},function(e,t,r){"use strict";(function(t,n,i){var o=r(11);e.exports=w;function s(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function a(e){var t=this;this.next=null;this.entry=null;this.finish=function(){U(t,e)}}var f=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o;var u;w.WritableState=m;var c=r(6);c.inherits=r(2);var h={deprecate:r(74)};var l=r(28);var p=r(12).Buffer;var d=i.Uint8Array||function(){};function v(e){return p.from(e)}function y(e){return p.isBuffer(e)||e instanceof d}var g=r(29);c.inherits(w,l);function b(){}function m(e,t){u=u||r(4);e=e||{};this.objectMode=!!e.objectMode;if(t instanceof u)this.objectMode=this.objectMode||!!e.writableObjectMode;var n=e.highWaterMark;var i=this.objectMode?16:16*1024;this.highWaterMark=n||n===0?n:i;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var o=e.decodeStrings===false;this.decodeStrings=!o;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){C(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new a(this)}m.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(m.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var _;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){_=Function.prototype[Symbol.hasInstance];Object.defineProperty(w,Symbol.hasInstance,{value:function(e){if(_.call(this,e))return true;return e&&e._writableState instanceof m}})}else{_=function(e){return e instanceof this}}function w(e){u=u||r(4);if(!_.call(w,this)&&!(this instanceof u)){return new w(e)}this._writableState=new m(e,this);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}l.call(this)}w.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function k(e,t){var r=new Error("write after end");e.emit("error",r);o(t,r)}function S(e,t,r,n){var i=true;var s=false;if(r===null){s=new TypeError("May not write null values to stream")}else if(typeof r!=="string"&&r!==undefined&&!t.objectMode){s=new TypeError("Invalid non-string/buffer chunk")}if(s){e.emit("error",s);o(n,s);i=false}return i}w.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var o=y(e)&&!n.objectMode;if(o&&!p.isBuffer(e)){e=v(e)}if(typeof t==="function"){r=t;t=null}if(o)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=b;if(n.ended)k(this,r);else if(o||S(this,n,e,r)){n.pendingcb++;i=T(this,n,o,e,t,r)}return i};w.prototype.cork=function(){var e=this._writableState;e.corked++};w.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest)M(this,e)}};w.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t;return this};function E(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=p.from(t,r)}return t}function T(e,t,r,n,i,o){if(!r){var s=E(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var a=t.objectMode?1:n.length;t.length+=a;var f=t.length<t.highWaterMark;if(!f)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{R(e,t,false,a,n,i,o)}return f}function R(e,t,r,n,i,o,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(r)e._writev(i,t.onwrite);else e._write(i,o,t.onwrite);t.sync=false}function A(e,t,r,n,i){--t.pendingcb;if(r){o(i,n);o(D,e,t);e._writableState.errorEmitted=true;e.emit("error",n)}else{i(n);e._writableState.errorEmitted=true;e.emit("error",n);D(e,t)}}function x(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function C(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;x(r);if(t)A(e,r,n,t,i);else{var o=O(r);if(!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){M(e,r)}if(n){f(B,e,r,o,i)}else{B(e,r,o,i)}}}function B(e,t,r,n){if(!r)P(e,t);t.pendingcb--;n();D(e,t)}function P(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function M(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var o=t.corkedRequestsFree;o.entry=r;var s=0;var f=true;while(r){i[s]=r;if(!r.isBuf)f=false;r=r.next;s+=1}i.allBuffers=f;R(e,t,true,t.length,i,"",o.finish);t.pendingcb++;t.lastBufferedRequest=null;if(o.next){t.corkedRequestsFree=o.next;o.next=null}else{t.corkedRequestsFree=new a(t)}}else{while(r){var u=r.chunk;var c=r.encoding;var h=r.callback;var l=t.objectMode?1:u.length;R(e,t,false,l,u,c,h);r=r.next;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequestCount=0;t.bufferedRequest=r;t.bufferProcessing=false}w.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};w.prototype._writev=null;w.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending&&!n.finished)j(this,n,r)};function O(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function L(e,t){e._final(function(r){t.pendingcb--;if(r){e.emit("error",r)}t.prefinished=true;e.emit("prefinish");D(e,t)})}function I(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"){t.pendingcb++;t.finalCalled=true;o(L,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function D(e,t){var r=O(t);if(r){I(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish")}}return r}function j(e,t,r){t.ending=true;D(e,t);if(r){if(t.finished)o(r);else e.once("finish",r)}t.ended=true;e.writable=false}function U(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}if(t.corkedRequestsFree){t.corkedRequestsFree.next=e}else{t.corkedRequestsFree=e}}Object.defineProperty(w.prototype,"destroyed",{get:function(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function(e){if(!this._writableState){return}this._writableState.destroyed=e}});w.prototype.destroy=g.destroy;w.prototype._undestroy=g.undestroy;w.prototype._destroy=function(e,t){this.end();t(e)}}).call(t,r(1),r(21).setImmediate,r(0))},function(e,t,r){var n=r(3).Buffer;var i=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function o(e){if(e&&!i(e)){throw new Error("Unknown encoding: "+e)}}var s=t.StringDecoder=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");o(e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=u;break;default:this.write=a;return}this.charBuffer=new n(6);this.charReceived=0;this.charLength=0};s.prototype.write=function(e){var t="";while(this.charLength){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;e.copy(this.charBuffer,this.charReceived,0,r);this.charReceived+=r;if(this.charReceived<this.charLength){return""}e=e.slice(r,e.length);t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(n>=55296&&n<=56319){this.charLength+=this.surrogateSize;t="";continue}this.charReceived=this.charLength=0;if(e.length===0){return t}break}this.detectIncompleteChar(e);var i=e.length;if(this.charLength){e.copy(this.charBuffer,0,e.length-this.charReceived,i);i-=this.charReceived}t+=e.toString(this.encoding,0,i);var i=t.length-1;var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var o=this.surrogateSize;this.charLength+=o;this.charReceived+=o;this.charBuffer.copy(this.charBuffer,o,0,o);e.copy(this.charBuffer,0,0,o);return t.substring(0,i)}return t};s.prototype.detectIncompleteChar=function(e){var t=e.length>=3?3:e.length;for(;t>0;t--){var r=e[e.length-t];if(t==1&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t};s.prototype.end=function(e){var t="";if(e&&e.length)t=this.write(e);if(this.charReceived){var r=this.charReceived;var n=this.charBuffer;var i=this.encoding;t+=n.slice(0,r).toString(i)}return t};function a(e){return e.toString(this.encoding)}function f(e){this.charReceived=e.length%2;this.charLength=this.charReceived?2:0}function u(e){this.charReceived=e.length%3;this.charLength=this.charReceived?3:0}},function(e,t,r){"use strict";e.exports=a;var n=r(4);var i=r(6);i.inherits=r(2);i.inherits(a,n);function o(e){this.afterTransform=function(t,r){return s(e,t,r)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null;this.writeencoding=null}function s(e,t,r){var n=e._transformState;n.transforming=false;var i=n.writecb;if(!i){return e.emit("error",new Error("write callback called multiple times"))}n.writechunk=null;n.writecb=null;if(r!==null&&r!==undefined)e.push(r);i(t);var o=e._readableState;o.reading=false;if(o.needReadable||o.length<o.highWaterMark){e._read(o.highWaterMark)}}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e);this._transformState=new o(this);var t=this;this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.once("prefinish",function(){if(typeof this._flush==="function")this._flush(function(e,r){f(t,e,r)});else f(t)})}a.prototype.push=function(e,t){this._transformState.needTransform=false;return n.prototype.push.call(this,e,t)};a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};a.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};a.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e);r.emit("close")})};function f(e,t,r){if(t)return e.emit("error",t);if(r!==null&&r!==undefined)e.push(r);var n=e._writableState;var i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}},function(e,t,r){"use strict";var n=r(79);var i=r(81);t.parse=w;t.resolve=S;t.resolveObject=E;t.format=k;t.Url=o;function o(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r","\n","\t"],c=["{","}","|","\\","^","`"].concat(u),h=["'"].concat(c),l=["%","/","?",";","#"].concat(h),p=["/","?","#"],d=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:true,"javascript:":true},b={javascript:true,"javascript:":true},m={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},_=r(82);function w(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;n.parse(e,t,r);return n}o.prototype.parse=function(e,t,r){if(!i.isString(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var o=e.indexOf("?"),a=o!==-1&&o<e.indexOf("#")?"?":"#",u=e.split(a),c=/\\/g;u[0]=u[0].replace(c,"/");e=u.join(a);var w=e;w=w.trim();if(!r&&e.split("#").length===1){var k=f.exec(w);if(k){this.path=w;this.href=w;this.pathname=k[1];if(k[2]){this.search=k[2];if(t){this.query=_.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(t){this.search="";this.query={}}return this}}var S=s.exec(w);if(S){S=S[0];var E=S.toLowerCase();this.protocol=E;w=w.substr(S.length)}if(r||S||w.match(/^\/\/[^@\/]+@[^@\/]+/)){var T=w.substr(0,2)==="//";if(T&&!(S&&b[S])){w=w.substr(2);this.slashes=true}}if(!b[S]&&(T||S&&!m[S])){var R=-1;for(var A=0;A<p.length;A++){var x=w.indexOf(p[A]);if(x!==-1&&(R===-1||x<R))R=x}var C,B;if(R===-1){B=w.lastIndexOf("@")}else{B=w.lastIndexOf("@",R)}if(B!==-1){C=w.slice(0,B);w=w.slice(B+1);this.auth=decodeURIComponent(C)}R=-1;for(var A=0;A<l.length;A++){var x=w.indexOf(l[A]);if(x!==-1&&(R===-1||x<R))R=x}if(R===-1)R=w.length;this.host=w.slice(0,R);w=w.slice(R);this.parseHost();this.hostname=this.hostname||"";var P=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!P){var M=this.hostname.split(/\./);for(var A=0,O=M.length;A<O;A++){var L=M[A];if(!L)continue;if(!L.match(v)){var I="";for(var D=0,j=L.length;D<j;D++){if(L.charCodeAt(D)>127){I+="x"}else{I+=L[D]}}if(!I.match(v)){var U=M.slice(0,A);var N=M.slice(A+1);var q=L.match(y);if(q){U.push(q[1]);N.unshift(q[2])}if(N.length){w="/"+N.join(".")+w}this.hostname=U.join(".");break}}}}if(this.hostname.length>d){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!P){this.hostname=n.toASCII(this.hostname)}var F=this.port?":"+this.port:"";var z=this.hostname||"";this.host=z+F;this.href+=this.host;if(P){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(w[0]!=="/"){w="/"+w}}}if(!g[E]){for(var A=0,O=h.length;A<O;A++){var Y=h[A];if(w.indexOf(Y)===-1)continue;var H=encodeURIComponent(Y);if(H===Y){H=escape(Y)}w=w.split(Y).join(H)}}var W=w.indexOf("#");if(W!==-1){this.hash=w.substr(W);w=w.slice(0,W)}var X=w.indexOf("?");if(X!==-1){this.search=w.substr(X);this.query=w.substr(X+1);if(t){this.query=_.parse(this.query)}w=w.slice(0,X)}else if(t){this.search="";this.query={}}if(w)this.pathname=w;if(m[E]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var F=this.pathname||"";var V=this.search||"";this.path=F+V}this.href=this.format();return this};function k(e){if(i.isString(e))e=w(e);if(!(e instanceof o))return o.prototype.format.call(e);return e.format()}o.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=false,s="";if(this.host){o=e+this.host}else if(this.hostname){o=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){o+=":"+this.port}}if(this.query&&i.isObject(this.query)&&Object.keys(this.query).length){s=_.stringify(this.query)}var a=this.search||s&&"?"+s||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||m[t])&&o!==false){o="//"+(o||"");if(r&&r.charAt(0)!=="/")r="/"+r}else if(!o){o=""}if(n&&n.charAt(0)!=="#")n="#"+n;if(a&&a.charAt(0)!=="?")a="?"+a;r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)});a=a.replace("#","%23");return t+o+r+a+n};function S(e,t){return w(e,false,true).resolve(t)}o.prototype.resolve=function(e){return this.resolveObject(w(e,false,true)).format()};function E(e,t){if(!e)return t;return w(e,false,true).resolveObject(t)}o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,false,true);e=t}var r=new o;var n=Object.keys(this);for(var s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}r.hash=e.hash;if(e.href===""){r.href=r.format();return r}if(e.slashes&&!e.protocol){var f=Object.keys(e);for(var u=0;u<f.length;u++){var c=f[u];if(c!=="protocol")r[c]=e[c]}if(m[r.protocol]&&r.hostname&&!r.pathname){r.path=r.pathname="/"}r.href=r.format();return r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){var h=Object.keys(e);for(var l=0;l<h.length;l++){var p=h[l];r[p]=e[p]}r.href=r.format();return r}r.protocol=e.protocol;if(!e.host&&!b[e.protocol]){var d=(e.pathname||"").split("/");while(d.length&&!(e.host=d.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(d[0]!=="")d.unshift("");if(d.length<2)d.unshift("");r.pathname=d.join("/")}else{r.pathname=e.pathname}r.search=e.search;r.query=e.query;r.host=e.host||"";r.auth=e.auth;r.hostname=e.hostname||e.host;r.port=e.port;if(r.pathname||r.search){var v=r.pathname||"";var y=r.search||"";r.path=v+y}r.slashes=r.slashes||e.slashes;r.href=r.format();return r}var g=r.pathname&&r.pathname.charAt(0)==="/",_=e.host||e.pathname&&e.pathname.charAt(0)==="/",w=_||g||r.host&&e.pathname,k=w,S=r.pathname&&r.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],E=r.protocol&&!m[r.protocol];if(E){r.hostname="";r.port=null;if(r.host){if(S[0]==="")S[0]=r.host;else S.unshift(r.host)}r.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(d[0]==="")d[0]=e.host;else d.unshift(e.host)}e.host=null}w=w&&(d[0]===""||S[0]==="")}if(_){r.host=e.host||e.host===""?e.host:r.host;r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname;r.search=e.search;r.query=e.query;S=d}else if(d.length){if(!S)S=[];S.pop();S=S.concat(d);r.search=e.search;r.query=e.query}else if(!i.isNullOrUndefined(e.search)){if(E){r.hostname=r.host=S.shift();var T=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(T){r.auth=T.shift();r.host=r.hostname=T.shift()}}r.search=e.search;r.query=e.query;if(!i.isNull(r.pathname)||!i.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.href=r.format();return r}if(!S.length){r.pathname=null;if(r.search){r.path="/"+r.search}else{r.path=null}r.href=r.format();return r}var R=S.slice(-1)[0];var A=(r.host||e.host||S.length>1)&&(R==="."||R==="..")||R==="";var x=0;for(var C=S.length;C>=0;C--){R=S[C];if(R==="."){S.splice(C,1)}else if(R===".."){S.splice(C,1);x++}else if(x){S.splice(C,1);x--}}if(!w&&!k){for(;x--;x){S.unshift("..")}}if(w&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")){S.unshift("")}if(A&&S.join("/").substr(-1)!=="/"){S.push("")}var B=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(E){r.hostname=r.host=B?"":S.length?S.shift():"";var T=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(T){r.auth=T.shift();r.host=r.hostname=T.shift()}}w=w||r.host&&S.length;if(w&&!B){S.unshift("")}if(!S.length){r.pathname=null;r.path=null}else{r.pathname=S.join("/")}if(!i.isNull(r.pathname)||!i.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.auth=e.auth||r.auth;r.slashes=r.slashes||e.slashes;r.href=r.format();return r};o.prototype.parseHost=function(){var e=this.host;var t=a.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e}},,,,,,,,,,,,,,,,,,,,function(e,t,r){var n=r(5);var i=r(8);function o(e,t,r,n,s){if(!(this instanceof o))return new o(e,t,r,n,s);i.call(this);this.disconnected=false;this._queue=[];var a=e?"https://":"http://";var f=e?"wss://":"ws://";this._httpUrl=a+t+":"+r+n+s;this._wsUrl=f+t+":"+r+n+"peerjs?key="+s}n.inherits(o,i);o.prototype.start=function(e,t){this.id=e;this._httpUrl+="/"+e+"/"+t;this._wsUrl+="&id="+e+"&token="+t;this._startXhrStream();this._startWebSocket()};o.prototype._startWebSocket=function(e){var t=this;if(this._socket){return}this._socket=new WebSocket(this._wsUrl);this._socket.onmessage=function(e){try{var r=JSON.parse(e.data)}catch(t){n.log("Invalid server message",e.data);return}t.emit("message",r)};this._socket.onclose=function(e){n.log("Socket closed.");t.disconnected=true;t.emit("disconnected")};this._socket.onopen=function(){if(t._timeout){clearTimeout(t._timeout);setTimeout(function(){t._http.abort();t._http=null},5e3)}t._sendQueuedMessages();n.log("Socket open")}};o.prototype._startXhrStream=function(e){try{var t=this;this._http=new XMLHttpRequest;this._http._index=1;this._http._streamIndex=e||0;this._http.open("post",this._httpUrl+"/id?i="+this._http._streamIndex,true);this._http.onerror=function(){clearTimeout(t._timeout);t.emit("disconnected")};this._http.onreadystatechange=function(){if(this.readyState==2&&this.old){this.old.abort();delete this.old}else if(this.readyState>2&&this.status===200&&this.responseText){t._handleStream(this)}};this._http.send(null);this._setHTTPTimeout()}catch(e){n.log("XMLHttpRequest not available; defaulting to WebSockets")}};o.prototype._handleStream=function(e){var t=e.responseText.split("\n");if(e._buffer){while(e._buffer.length>0){var r=e._buffer.shift();var i=t[r];try{i=JSON.parse(i)}catch(t){e._buffer.shift(r);break}this.emit("message",i)}}var o=t[e._index];if(o){e._index+=1;if(e._index===t.length){if(!e._buffer){e._buffer=[]}e._buffer.push(e._index-1)}else{try{o=JSON.parse(o)}catch(e){n.log("Invalid server message",o);return}this.emit("message",o)}}};o.prototype._setHTTPTimeout=function(){var e=this;this._timeout=setTimeout(function(){var t=e._http;if(!e._wsOpen()){e._startXhrStream(t._streamIndex+1);e._http.old=t}else{t.abort()}},25e3)};o.prototype._wsOpen=function(){return this._socket&&this._socket.readyState==1};o.prototype._sendQueuedMessages=function(){for(var e=0,t=this._queue.length;e<t;e+=1){this.send(this._queue[e])}};o.prototype.send=function(e){if(this.disconnected){return}if(!this.id){this._queue.push(e);return}if(!e.type){this.emit("error","Invalid message");return}var t=JSON.stringify(e);if(this._wsOpen()){this._socket.send(t)}else{var r=new XMLHttpRequest;var n=this._httpUrl+"/"+e.type.toLowerCase();r.open("post",n,true);r.setRequestHeader("Content-Type","application/json");r.send(t)}};o.prototype.close=function(){if(!this.disconnected&&this._wsOpen()){this._socket.close();this.disconnected=true}};e.exports=o},function(e,t,r){var n=r(5);var i=r(8);var o=r(18);function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);i.call(this);this.options=n.extend({},r);this.open=false;this.type="media";this.peer=e;this.provider=t;this.metadata=this.options.metadata;this.localStream=this.options._stream;this.id=this.options.connectionId||s._idPrefix+n.randomToken();if(this.localStream){o.startConnection(this,{_stream:this.localStream,originator:true})}}n.inherits(s,i);s._idPrefix="mc_";s.prototype.addStream=function(e){n.log("Receiving stream",e);this.remoteStream=e;this.emit("stream",e)};s.prototype.handleMessage=function(e){var t=e.payload;switch(e.type){case"ANSWER":o.handleSDP(e.type,this,t.sdp);this.open=true;break;case"CANDIDATE":o.handleCandidate(this,t.candidate);break;default:n.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}};s.prototype.answer=function(e){if(this.localStream){n.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this.options._payload._stream=e;this.localStream=e;o.startConnection(this,this.options._payload);var t=this.provider._getMessages(this.id);for(var r=0,i=t.length;r<i;r+=1){this.handleMessage(t[r])}this.open=true};s.prototype.close=function(){if(!this.open){return}this.open=false;o.cleanup(this);this.emit("close")};e.exports=s},function(e,t,r){var n=r(5);var i=r(8);var o=r(18);var s=r(56);function a(e,t,r){if(!(this instanceof a))return new a(e,t,r);i.call(this);this.options=n.extend({serialization:"binary",reliable:false},r);this.open=false;this.type="data";this.peer=e;this.provider=t;this.id=this.options.connectionId||a._idPrefix+n.randomToken();this.label=this.options.label||this.id;this.metadata=this.options.metadata;this.serialization=this.options.serialization;this.reliable=this.options.reliable;this._buffer=[];this._buffering=false;this.bufferSize=0;this._chunkedData={};if(this.options._payload){this._peerBrowser=this.options._payload.browser}o.startConnection(this,this.options._payload||{originator:true})}n.inherits(a,i);a._idPrefix="dc_";a.prototype.initialize=function(e){this._dc=this.dataChannel=e;this._configureDataChannel()};a.prototype._configureDataChannel=function(){var e=this;if(n.supports.sctp){this._dc.binaryType="arraybuffer"}this._dc.onopen=function(){n.log("Data channel connection success");e.open=true;e.emit("open")};if(!n.supports.sctp&&this.reliable){this._reliable=new s(this._dc,n.debug)}if(this._reliable){this._reliable.onmessage=function(t){e.emit("data",t)}}else{this._dc.onmessage=function(t){e._handleDataMessage(t)}}this._dc.onclose=function(t){n.log("DataChannel closed for:",e.peer);e.close()}};a.prototype._handleDataMessage=function(e){var t=this;var r=e.data;var i=r.constructor;if(this.serialization==="binary"||this.serialization==="binary-utf8"){if(i===Blob){n.blobToArrayBuffer(r,function(e){r=n.unpack(e);t.emit("data",r)});return}else if(i===ArrayBuffer){r=n.unpack(r)}else if(i===String){var o=n.binaryStringToArrayBuffer(r);r=n.unpack(o)}}else if(this.serialization==="json"){r=JSON.parse(r)}if(r.__peerData){var s=r.__peerData;var a=this._chunkedData[s]||{data:[],count:0,total:r.total};a.data[r.n]=r.data;a.count+=1;if(a.total===a.count){delete this._chunkedData[s];r=new Blob(a.data);this._handleDataMessage({data:r})}this._chunkedData[s]=a;return}this.emit("data",r)};a.prototype.close=function(){if(!this.open){return}this.open=false;o.cleanup(this);this.emit("close")};a.prototype.send=function(e,t){if(!this.open){this.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this._reliable){this._reliable.send(e);return}var r=this;if(this.serialization==="json"){this._bufferedSend(JSON.stringify(e))}else if(this.serialization==="binary"||this.serialization==="binary-utf8"){var i=n.pack(e);var o=n.chunkedBrowsers[this._peerBrowser]||n.chunkedBrowsers[n.browser];if(o&&!t&&i.size>n.chunkedMTU){this._sendChunks(i);return}if(!n.supports.sctp){n.blobToBinaryString(i,function(e){r._bufferedSend(e)})}else if(!n.supports.binaryBlob){n.blobToArrayBuffer(i,function(e){r._bufferedSend(e)})}else{this._bufferedSend(i)}}else{this._bufferedSend(e)}};a.prototype._bufferedSend=function(e){if(this._buffering||!this._trySend(e)){this._buffer.push(e);this.bufferSize=this._buffer.length}};a.prototype._trySend=function(e){try{this._dc.send(e)}catch(e){this._buffering=true;var t=this;setTimeout(function(){t._buffering=false;t._tryBuffer()},100);return false}return true};a.prototype._tryBuffer=function(){if(this._buffer.length===0){return}var e=this._buffer[0];if(this._trySend(e)){this._buffer.shift();this.bufferSize=this._buffer.length;this._tryBuffer()}};a.prototype._sendChunks=function(e){var t=n.chunk(e);for(var r=0,i=t.length;r<i;r+=1){var e=t[r];this.send(e,true)}};a.prototype.handleMessage=function(e){var t=e.payload;switch(e.type){case"ANSWER":this._peerBrowser=t.browser;o.handleSDP(e.type,this,t.sdp);break;case"CANDIDATE":o.handleCandidate(this,t.candidate);break;default:n.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}};e.exports=a},function(e,t,r){var n=r(57);function i(e,t){if(!(this instanceof i))return new i(e);this._dc=e;n.debug=t;this._outgoing={};this._incoming={};this._received={};this._window=1e3;this._mtu=500;this._interval=0;this._count=0;this._queue=[];this._setupDC()}i.prototype.send=function(e){var t=n.pack(e);if(t.size<this._mtu){this._handleSend(["no",t]);return}this._outgoing[this._count]={ack:0,chunks:this._chunk(t)};if(n.debug){this._outgoing[this._count].timer=new Date}this._sendWindowedChunks(this._count);this._count+=1};i.prototype._setupInterval=function(){var e=this;this._timeout=setInterval(function(){var t=e._queue.shift();if(t._multiple){for(var r=0,n=t.length;r<n;r+=1){e._intervalSend(t[r])}}else{e._intervalSend(t)}},this._interval)};i.prototype._intervalSend=function(e){var t=this;e=n.pack(e);n.blobToBinaryString(e,function(e){t._dc.send(e)});if(t._queue.length===0){clearTimeout(t._timeout);t._timeout=null}};i.prototype._processAcks=function(){for(var e in this._outgoing){if(this._outgoing.hasOwnProperty(e)){this._sendWindowedChunks(e)}}};i.prototype._handleSend=function(e){var t=true;for(var r=0,n=this._queue.length;r<n;r+=1){var i=this._queue[r];if(i===e){t=false}else if(i._multiple&&i.indexOf(e)!==-1){t=false}}if(t){this._queue.push(e);if(!this._timeout){this._setupInterval()}}};i.prototype._setupDC=function(){var e=this;this._dc.onmessage=function(t){var r=t.data;var i=r.constructor;if(i===String){var o=n.binaryStringToArrayBuffer(r);r=n.unpack(o);e._handleMessage(r)}}};i.prototype._handleMessage=function(e){var t=e[1];var r=this._incoming[t];var i=this._outgoing[t];var o;switch(e[0]){case"no":var s=t;if(!!s){this.onmessage(n.unpack(s))}break;case"end":o=r;this._received[t]=e[2];if(!o){break}this._ack(t);break;case"ack":o=i;if(!!o){var a=e[2];o.ack=Math.max(a,o.ack);if(o.ack>=o.chunks.length){n.log("Time: ",new Date-o.timer);delete this._outgoing[t]}else{this._processAcks()}}break;case"chunk":o=r;if(!o){var f=this._received[t];if(f===true){break}o={ack:["ack",t,0],chunks:[]};this._incoming[t]=o}var u=e[2];var c=e[3];o.chunks[u]=new Uint8Array(c);if(u===o.ack[2]){this._calculateNextAck(t)}this._ack(t);break;default:this._handleSend(e);break}};i.prototype._chunk=function(e){var t=[];var r=e.size;var i=0;while(i<r){var o=Math.min(r,i+this._mtu);var s=e.slice(i,o);var a={payload:s};t.push(a);i=o}n.log("Created",t.length,"chunks.");return t};i.prototype._ack=function(e){var t=this._incoming[e].ack;if(this._received[e]===t[2]){this._complete(e);this._received[e]=true}this._handleSend(t)};i.prototype._calculateNextAck=function(e){var t=this._incoming[e];var r=t.chunks;for(var n=0,i=r.length;n<i;n+=1){if(r[n]===undefined){t.ack[2]=n;return}}t.ack[2]=r.length};i.prototype._sendWindowedChunks=function(e){n.log("sendWindowedChunks for: ",e);var t=this._outgoing[e];var r=t.chunks;var i=[];var o=Math.min(t.ack+this._window,r.length);for(var s=t.ack;s<o;s+=1){if(!r[s].sent||s===t.ack){r[s].sent=true;i.push(["chunk",e,s,r[s].payload])}}if(t.ack+this._window>=r.length){i.push(["end",e,r.length])}i._multiple=true;this._handleSend(i)};i.prototype._complete=function(e){n.log("Completed called for",e);var t=this;var r=this._incoming[e].chunks;var i=new Blob(r);n.blobToArrayBuffer(i,function(e){t.onmessage(n.unpack(e))});delete this._incoming[e]};i.higherBandwidthSDP=function(e){var t=navigator.appVersion.match(/Chrome\/(.*?) /);if(t){t=parseInt(t[1].split(".").shift());if(t<31){var r=e.split("b=AS:30");var n="b=AS:102400";if(r.length>1){return r[0]+n+r[1]}}}return e};i.prototype.onmessage=function(e){};e.exports.Reliable=i},function(e,t,r){var n=r(16);var i={debug:false,inherits:function(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})},extend:function(e,t){for(var r in t){if(t.hasOwnProperty(r)){e[r]=t[r]}}return e},pack:n.pack,unpack:n.unpack,log:function(){if(i.debug){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}e.unshift("Reliable: ");console.log.apply(console,e)}},setZeroTimeout:function(e){var t=[];var r="zero-timeout-message";function n(n){t.push(n);e.postMessage(r,"*")}function i(n){if(n.source==e&&n.data==r){if(n.stopPropagation){n.stopPropagation()}if(t.length){t.shift()()}}}if(e.addEventListener){e.addEventListener("message",i,true)}else if(e.attachEvent){e.attachEvent("onmessage",i)}return n}(this),blobToArrayBuffer:function(e,t){var r=new FileReader;r.onload=function(e){t(e.target.result)};r.readAsArrayBuffer(e)},blobToBinaryString:function(e,t){var r=new FileReader;r.onload=function(e){t(e.target.result)};r.readAsBinaryString(e)},binaryStringToArrayBuffer:function(e){var t=new Uint8Array(e.length);for(var r=0;r<e.length;r++){t[r]=e.charCodeAt(r)&255}return t.buffer},randomToken:function(){return Math.random().toString(36).substr(2)}};e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.wait=i;t.repeat=o;t.whilst=s;t.nextId=a;var n=r(20);function i(e){return new n(function(t){setTimeout(t,e)})}function o(e,t){return new n(function(r,n){var i=0;var o=[];function s(){if(i<t){i++;e().then(function(e){o.push(e);s()})}else{r(o)}}s()})}function s(e,t){return new n(function(r,n){function i(){if(e()){t().then(function(){return i()})}else{r()}}i()})}function a(){return f++}var f=0},function(e,t,r){"use strict";e.exports=r(9);r(61);r(62);r(63)},function(e,t,r){(function(e,t){(function(e,r){"use strict";if(e.setImmediate){return}var n=1;var i={};var o=false;var s=e.document;var a;function f(e){if(typeof e!=="function"){e=new Function(""+e)}var t=new Array(arguments.length-1);for(var r=0;r<t.length;r++){t[r]=arguments[r+1]}var o={callback:e,args:t};i[n]=o;a(n);return n++}function u(e){delete i[e]}function c(e){var t=e.callback;var n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n);break}}function h(e){if(o){setTimeout(h,0,e)}else{var t=i[e];if(t){o=true;try{c(t)}finally{u(e);o=false}}}}function l(){a=function(e){t.nextTick(function(){h(e)})}}function p(){if(e.postMessage&&!e.importScripts){var t=true;var r=e.onmessage;e.onmessage=function(){t=false};e.postMessage("","*");e.onmessage=r;return t}}function d(){var t="setImmediate$"+Math.random()+"$";var r=function(r){if(r.source===e&&typeof r.data==="string"&&r.data.indexOf(t)===0){h(+r.data.slice(t.length))}};if(e.addEventListener){e.addEventListener("message",r,false)}else{e.attachEvent("onmessage",r)}a=function(r){e.postMessage(t+r,"*")}}function v(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;h(t)};a=function(t){e.port2.postMessage(t)}}function y(){var e=s.documentElement;a=function(t){var r=s.createElement("script");r.onreadystatechange=function(){h(t);r.onreadystatechange=null;e.removeChild(r);r=null};e.appendChild(r)}}function g(){a=function(e){setTimeout(h,0,e)}}var b=Object.getPrototypeOf&&Object.getPrototypeOf(e);b=b&&b.setTimeout?b:e;if({}.toString.call(e.process)==="[object process]"){l()}else if(p()){d()}else if(e.MessageChannel){v()}else if(s&&"onreadystatechange"in s.createElement("script")){y()}else{g()}b.setImmediate=f;b.clearImmediate=u})(typeof self==="undefined"?typeof e==="undefined"?this:e:self)}).call(t,r(0),r(1))},function(e,t,r){"use strict";var n=r(9);var i=r(10);e.exports=n;n.prototype.done=function(e,t){var r=arguments.length?this.then.apply(this,arguments):this;r.then(null,function(e){i(function(){throw e})})}},function(e,t,r){"use strict";var n=r(9);var i=r(10);e.exports=n;function o(e){this.then=function(t){if(typeof t!=="function")return this;return new n(function(r,n){i(function(){try{r(t(e))}catch(e){n(e)}})})}}o.prototype=n.prototype;var s=new o(true);var a=new o(false);var f=new o(null);var u=new o(undefined);var c=new o(0);var h=new o("");n.resolve=function(e){if(e instanceof n)return e;if(e===null)return f;if(e===undefined)return u;if(e===true)return s;if(e===false)return a;if(e===0)return c;if(e==="")return h;if(typeof e==="object"||typeof e==="function"){try{var t=e.then;if(typeof t==="function"){return new n(t.bind(e))}}catch(e){return new n(function(t,r){r(e)})}}return new o(e)};n.all=function(e){var t=Array.prototype.slice.call(e);return new n(function(e,r){if(t.length===0)return e([]);var n=t.length;function i(o,s){try{if(s&&(typeof s==="object"||typeof s==="function")){var a=s.then;if(typeof a==="function"){a.call(s,function(e){i(o,e)},r);return}}t[o]=s;if(--n===0){e(t)}}catch(e){r(e)}}for(var o=0;o<t.length;o++){i(o,t[o])}})};n.reject=function(e){return new n(function(t,r){r(e)})};n.race=function(e){return new n(function(t,r){e.forEach(function(e){n.resolve(e).then(t,r)})})};n.prototype["catch"]=function(e){return this.then(null,e)}},function(e,t,r){"use strict";var n=r(9);var i=r(10);e.exports=n;n.denodeify=function(e,t){t=t||Infinity;return function(){var r=this;var i=Array.prototype.slice.call(arguments);return new n(function(n,o){while(i.length&&i.length>t){i.pop()}i.push(function(e,t){if(e)o(e);else n(t)});var s=e.apply(r,i);if(s&&(typeof s==="object"||typeof s==="function")&&typeof s.then==="function"){n(s)}})}};n.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments);var r=typeof t[t.length-1]==="function"?t.pop():null;var o=this;try{return e.apply(this,arguments).nodeify(r,o)}catch(e){if(r===null||typeof r=="undefined"){return new n(function(t,r){r(e)})}else{i(function(){r.call(o,e)})}}}};n.prototype.nodeify=function(e,t){if(typeof e!="function")return this;this.then(function(r){i(function(){e.call(t,null,r)})},function(r){i(function(){e.call(t,r)})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.compare=n;t.add=i;t.sum=o;t.mean=s;t.std=a;t.variance=f;t.median=u;function n(e,t){return e>t?1:e<t?-1:0}function i(e,t){return e+t}function o(e){return e.reduce(i)}function s(e){return o(e)/e.length}function a(e){return Math.sqrt(f(e))}function f(e){if(e.length<2)return 0;var t=s(e);return e.map(function(e){return Math.pow(e-t,2)}).reduce(i)/(e.length-1)}function u(e){if(e.length<2)return e[0];var t=e.slice().sort(n);if(t.length%2===0){return(t[e.length/2-1]+t[e.length/2])/2}else{return t[(e.length-1)/2]}}},function(e,t,r){"use strict";var n=typeof window!=="undefined";e.exports=n?r(66):r(67)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fetch=n;t.post=i;function n(e,t,r,n,i,o){try{var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState==4){var e=s.getResponseHeader("Content-Type");if(e&&e.indexOf("json")!==-1){i(null,JSON.parse(s.responseText),s.status)}else{i(null,s.responseText,s.status)}}};if(n){for(var a in n){if(n.hasOwnProperty(a)){s.setRequestHeader(a,n[a])}}}s.ontimeout=function(e){i(e,null,0)};s.open(e,t,true);s.timeout=o;if(typeof r==="string"){s.send(r)}else if(r){s.setRequestHeader("Content-Type","application/json");s.send(JSON.stringify(r))}else{s.send()}}catch(e){i(e,null,0)}}function i(e,t,r,i){n("POST",e,t,null,r,i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.post=h;var n=r(22);var i=u(n);var o=r(85);var s=u(o);var a=r(33);var f=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var c=f.default.parse;function h(e,t,r,n){var o=t==="string"?t:JSON.stringify(t);var a=c(e);var f={host:a.hostname,port:a.port,path:a.path,method:"POST",headers:{"Content-Length":o.length}};if(t!=="string"){f.headers["Content-Type"]="application/json"}var u=a.protocol==="https:"?s.default:i.default;var h=u.request(f,function(e){e.setEncoding("utf8");var t="";e.on("data",function(e){t+=e});e.on("end",function(){var n=e.headers["content-type"];var i=n&&n.indexOf("json")!==-1;var o=i?JSON.parse(t):t;r&&r(null,o,e.statusCode);r=null})});h.on("error",function(e){r&&r(e,null,null);r=null});h.on("socket",function(e){e.setTimeout(n,function(){h.abort()})});h.write(o);h.end()}},function(e,t,r){(function(t,n,i){var o=r(24);var s=r(2);var a=r(71);var f=r(25);var u=r(76);var c=a.IncomingMessage;var h=a.readyStates;function l(e,t){if(o.fetch&&t){return"fetch"}else if(o.mozchunkedarraybuffer){return"moz-chunked-arraybuffer"}else if(o.msstream){return"ms-stream"}else if(o.arraybuffer&&e){return"arraybuffer"}else if(o.vbArray&&e){return"text:vbarray"}else{return"text"}}var p=e.exports=function(e){var r=this;f.Writable.call(r);r._opts=e;r._body=[];r._headers={};if(e.auth)r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64"));Object.keys(e.headers).forEach(function(t){r.setHeader(t,e.headers[t])});var n;var i=true;if(e.mode==="disable-fetch"||"timeout"in e){i=false;n=true}else if(e.mode==="prefer-streaming"){n=false}else if(e.mode==="allow-wrong-content-type"){n=!o.overrideMimeType}else if(!e.mode||e.mode==="default"||e.mode==="prefer-fast"){n=true}else{throw new Error("Invalid value for opts.mode")}r._mode=l(n,i);r.on("finish",function(){r._onFinish()})};s(p,f.Writable);p.prototype.setHeader=function(e,t){var r=this;var n=e.toLowerCase();if(v.indexOf(n)!==-1)return;r._headers[n]={name:e,value:t}};p.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];if(t)return t.value;return null};p.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]};p.prototype._onFinish=function(){var e=this;if(e._destroyed)return;var r=e._opts;var s=e._headers;var a=null;if(r.method!=="GET"&&r.method!=="HEAD"){if(o.blobConstructor){a=new n.Blob(e._body.map(function(e){return u(e)}),{type:(s["content-type"]||{}).value||""})}else{a=t.concat(e._body).toString()}}var f=[];Object.keys(s).forEach(function(e){var t=s[e].name;var r=s[e].value;if(Array.isArray(r)){r.forEach(function(e){f.push([t,e])})}else{f.push([t,r])}});if(e._mode==="fetch"){n.fetch(e._opts.url,{method:e._opts.method,headers:f,body:a||undefined,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then(function(t){e._fetchResponse=t;e._connect()},function(t){e.emit("error",t)})}else{var c=e._xhr=new n.XMLHttpRequest;try{c.open(e._opts.method,e._opts.url,true)}catch(t){i.nextTick(function(){e.emit("error",t)});return}if("responseType"in c)c.responseType=e._mode.split(":")[0];if("withCredentials"in c)c.withCredentials=!!r.withCredentials;if(e._mode==="text"&&"overrideMimeType"in c)c.overrideMimeType("text/plain; charset=x-user-defined");if("timeout"in r){c.timeout=r.timeout;c.ontimeout=function(){e.emit("timeout")}}f.forEach(function(e){c.setRequestHeader(e[0],e[1])});e._response=null;c.onreadystatechange=function(){switch(c.readyState){case h.LOADING:case h.DONE:e._onXHRProgress();break}};if(e._mode==="moz-chunked-arraybuffer"){c.onprogress=function(){e._onXHRProgress()}}c.onerror=function(){if(e._destroyed)return;e.emit("error",new Error("XHR error"))};try{c.send(a)}catch(t){i.nextTick(function(){e.emit("error",t)});return}}};function d(e){try{var t=e.status;return t!==null&&t!==0}catch(e){return false}}p.prototype._onXHRProgress=function(){var e=this;if(!d(e._xhr)||e._destroyed)return;if(!e._response)e._connect();e._response._onXHRProgress()};p.prototype._connect=function(){var e=this;if(e._destroyed)return;e._response=new c(e._xhr,e._fetchResponse,e._mode);e._response.on("error",function(t){e.emit("error",t)});e.emit("response",e._response)};p.prototype._write=function(e,t,r){var n=this;n._body.push(e);r()};p.prototype.abort=p.prototype.destroy=function(){var e=this;e._destroyed=true;if(e._response)e._response._destroyed=true;if(e._xhr)e._xhr.abort()};p.prototype.end=function(e,t,r){var n=this;if(typeof e==="function"){r=e;e=undefined}f.Writable.prototype.end.call(n,e,t,r)};p.prototype.flushHeaders=function(){};p.prototype.setTimeout=function(){};p.prototype.setNoDelay=function(){};p.prototype.setSocketKeepAlive=function(){};var v=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(t,r(3).Buffer,r(0),r(1))},function(e,t,r){"use strict";t.byteLength=c;t.toByteArray=h;t.fromByteArray=d;var n=[];var i=[];var o=typeof Uint8Array!=="undefined"?Uint8Array:Array;var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var a=0,f=s.length;a<f;++a){n[a]=s[a];i[s.charCodeAt(a)]=a}i["-".charCodeAt(0)]=62;i["_".charCodeAt(0)]=63;function u(e){var t=e.length;if(t%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}return e[t-2]==="="?2:e[t-1]==="="?1:0}function c(e){return e.length*3/4-u(e)}function h(e){var t,r,n,s,a;var f=e.length;s=u(e);a=new o(f*3/4-s);r=s>0?f-4:f;var c=0;for(t=0;t<r;t+=4){n=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)];a[c++]=n>>16&255;a[c++]=n>>8&255;a[c++]=n&255}if(s===2){n=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4;a[c++]=n&255}else if(s===1){n=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2;a[c++]=n>>8&255;a[c++]=n&255}return a}function l(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[e&63]}function p(e,t,r){var n;var i=[];for(var o=t;o<r;o+=3){n=(e[o]<<16)+(e[o+1]<<8)+e[o+2];i.push(l(n))}return i.join("")}function d(e){var t;var r=e.length;var i=r%3;var o="";var s=[];var a=16383;for(var f=0,u=r-i;f<u;f+=a){s.push(p(e,f,f+a>u?u:f+a))}if(i===1){t=e[r-1];o+=n[t>>2];o+=n[t<<4&63];o+="=="}else if(i===2){t=(e[r-2]<<8)+e[r-1];o+=n[t>>10];o+=n[t>>4&63];o+=n[t<<2&63];o+="="}s.push(o);return s.join("")}},function(e,t){t.read=function(e,t,r,n,i){var o,s;var a=i*8-n-1;var f=(1<<a)-1;var u=f>>1;var c=-7;var h=r?i-1:0;var l=r?-1:1;var p=e[t+h];h+=l;o=p&(1<<-c)-1;p>>=-c;c+=a;for(;c>0;o=o*256+e[t+h],h+=l,c-=8){}s=o&(1<<-c)-1;o>>=-c;c+=n;for(;c>0;s=s*256+e[t+h],h+=l,c-=8){}if(o===0){o=1-u}else if(o===f){return s?NaN:(p?-1:1)*Infinity}else{s=s+Math.pow(2,n);o=o-u}return(p?-1:1)*s*Math.pow(2,o-n)};t.write=function(e,t,r,n,i,o){var s,a,f;var u=o*8-i-1;var c=(1<<u)-1;var h=c>>1;var l=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;var p=n?0:o-1;var d=n?1:-1;var v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){a=isNaN(t)?1:0;s=c}else{s=Math.floor(Math.log(t)/Math.LN2);if(t*(f=Math.pow(2,-s))<1){s--;f*=2}if(s+h>=1){t+=l/f}else{t+=l*Math.pow(2,1-h)}if(t*f>=2){s++;f/=2}if(s+h>=c){a=0;s=c}else if(s+h>=1){a=(t*f-1)*Math.pow(2,i);s=s+h}else{a=t*Math.pow(2,h-1)*Math.pow(2,i);s=0}}for(;i>=8;e[r+p]=a&255,p+=d,a/=256,i-=8){}s=s<<i|a;u+=i;for(;u>0;e[r+p]=s&255,p+=d,s/=256,u-=8){}e[r+p-d]|=v*128}},function(e,t,r){(function(e,n,i){var o=r(24);var s=r(2);var a=r(25);var f=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var u=t.IncomingMessage=function(t,r,i){var s=this;a.Readable.call(s);s._mode=i;s.headers={};s.rawHeaders=[];s.trailers={};s.rawTrailers=[];s.on("end",function(){e.nextTick(function(){s.emit("close")})});if(i==="fetch"){s._fetchResponse=r;s.url=r.url;s.statusCode=r.status;s.statusMessage=r.statusText;r.headers.forEach(function(e,t){s.headers[t.toLowerCase()]=e;s.rawHeaders.push(t,e)});var f=r.body.getReader();function u(){f.read().then(function(e){if(s._destroyed)return;if(e.done){s.push(null);return}s.push(new n(e.value));u()}).catch(function(e){s.emit("error",e)})}u()}else{s._xhr=t;s._pos=0;s.url=t.responseURL;s.statusCode=t.status;s.statusMessage=t.statusText;var c=t.getAllResponseHeaders().split(/\r?\n/);c.forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();if(r==="set-cookie"){if(s.headers[r]===undefined){s.headers[r]=[]}s.headers[r].push(t[2])}else if(s.headers[r]!==undefined){s.headers[r]+=", "+t[2]}else{s.headers[r]=t[2]}s.rawHeaders.push(t[1],t[2])}});s._charset="x-user-defined";if(!o.overrideMimeType){var h=s.rawHeaders["mime-type"];if(h){var l=h.match(/;\s*charset=([^;])(;|$)/);if(l){s._charset=l[1].toLowerCase()}}if(!s._charset)s._charset="utf-8"}}};s(u,a.Readable);u.prototype._read=function(){};u.prototype._onXHRProgress=function(){var e=this;var t=e._xhr;var r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==f.DONE)break;try{r=new i.VBArray(t.responseBody).toArray()}catch(e){}if(r!==null){e.push(new n(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var o=r.substr(e._pos);if(e._charset==="x-user-defined"){var s=new n(o.length);for(var a=0;a<o.length;a++)s[a]=o.charCodeAt(a)&255;e.push(s)}else{e.push(o,e._charset)}e._pos=r.length}break;case"arraybuffer":if(t.readyState!==f.DONE||!t.response)break;r=t.response;e.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":r=t.response;if(t.readyState!==f.LOADING||!r)break;e.push(new n(new Uint8Array(r)));break;case"ms-stream":r=t.response;if(t.readyState!==f.LOADING)break;var u=new i.MSStreamReader;u.onprogress=function(){if(u.result.byteLength>e._pos){e.push(new n(new Uint8Array(u.result.slice(e._pos))));e._pos=u.result.byteLength}};u.onload=function(){e.push(null)};u.readAsArrayBuffer(r);break}if(e._xhr.readyState===f.DONE&&e._mode!=="ms-stream"){e.push(null)}}}).call(t,r(1),r(3).Buffer,r(0))},function(e,t){},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=r(12).Buffer;function o(e,t,r){e.copy(t,r)}e.exports=function(){function e(){n(this,e);this.head=null;this.tail=null;this.length=0}e.prototype.push=function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length};e.prototype.unshift=function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length};e.prototype.shift=function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t};e.prototype.clear=function e(){this.head=this.tail=null;this.length=0};e.prototype.join=function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n};e.prototype.concat=function e(t){if(this.length===0)return i.alloc(0);if(this.length===1)return this.head.data;var r=i.allocUnsafe(t>>>0);var n=this.head;var s=0;while(n){o(n.data,r,s);s+=n.data.length;n=n.next}return r};return e}()},function(e,t,r){(function(t){e.exports=r;function r(e,t){if(n("noDeprecation")){return e}var r=false;function i(){if(!r){if(n("throwDeprecation")){throw new Error(t)}else if(n("traceDeprecation")){console.trace(t)}else{console.warn(t)}r=true}return e.apply(this,arguments)}return i}function n(e){try{if(!t.localStorage)return false}catch(e){return false}var r=t.localStorage[e];if(null==r)return false;return String(r).toLowerCase()==="true"}}).call(t,r(0))},function(e,t,r){"use strict";e.exports=o;var n=r(32);var i=r(6);i.inherits=r(2);i.inherits(o,n);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){var n=r(3).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(e.byteOffset===0&&e.byteLength===e.buffer.byteLength){return e.buffer}else if(typeof e.buffer.slice==="function"){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}}if(n.isBuffer(e)){var t=new Uint8Array(e.length);var r=e.length;for(var i=0;i<r;i++){t[i]=e[i]}return t.buffer}else{throw new Error("Argument must be a Buffer")}}},function(e,t){e.exports=n;var r=Object.prototype.hasOwnProperty;function n(){var e={};for(var t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(r.call(n,i)){e[i]=n[i]}}}return e}},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){(function(e,n){var i;(function(o){var s=typeof t=="object"&&t&&!t.nodeType&&t;var a=typeof e=="object"&&e&&!e.nodeType&&e;var f=typeof n=="object"&&n;if(f.global===f||f.window===f||f.self===f){o=f}var u,c=2147483647,h=36,l=1,p=26,d=38,v=700,y=72,g=128,b="-",m=/^xn--/,_=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=h-l,E=Math.floor,T=String.fromCharCode,R;function A(e){throw new RangeError(k[e])}function x(e,t){var r=e.length;var n=[];while(r--){n[r]=t(e[r])}return n}function C(e,t){var r=e.split("@");var n="";if(r.length>1){n=r[0]+"@";e=r[1]}e=e.replace(w,".");var i=e.split(".");var o=x(i,t).join(".");return n+o}function B(e){var t=[],r=0,n=e.length,i,o;while(r<n){i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){o=e.charCodeAt(r++);if((o&64512)==56320){t.push(((i&1023)<<10)+(o&1023)+65536)}else{t.push(i);r--}}else{t.push(i)}}return t}function P(e){return x(e,function(e){var t="";if(e>65535){e-=65536;t+=T(e>>>10&1023|55296);e=56320|e&1023}t+=T(e);return t}).join("")}function M(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return h}function O(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function L(e,t,r){var n=0;e=r?E(e/v):e>>1;e+=E(e/t);for(;e>S*p>>1;n+=h){e=E(e/S)}return E(n+(S+1)*e/(e+d))}function I(e){var t=[],r=e.length,n,i=0,o=g,s=y,a,f,u,d,v,m,_,w,k;a=e.lastIndexOf(b);if(a<0){a=0}for(f=0;f<a;++f){if(e.charCodeAt(f)>=128){A("not-basic")}t.push(e.charCodeAt(f))}for(u=a>0?a+1:0;u<r;){for(d=i,v=1,m=h;;m+=h){if(u>=r){A("invalid-input")}_=M(e.charCodeAt(u++));if(_>=h||_>E((c-i)/v)){A("overflow")}i+=_*v;w=m<=s?l:m>=s+p?p:m-s;if(_<w){break}k=h-w;if(v>E(c/k)){A("overflow")}v*=k}n=t.length+1;s=L(i-d,n,d==0);if(E(i/n)>c-o){A("overflow")}o+=E(i/n);i%=n;t.splice(i++,0,o)}return P(t)}function D(e){var t,r,n,i,o,s,a,f,u,d,v,m=[],_,w,k,S;e=B(e);_=e.length;t=g;r=0;o=y;for(s=0;s<_;++s){v=e[s];if(v<128){m.push(T(v))}}n=i=m.length;if(i){m.push(b)}while(n<_){for(a=c,s=0;s<_;++s){v=e[s];if(v>=t&&v<a){a=v}}w=n+1;if(a-t>E((c-r)/w)){A("overflow")}r+=(a-t)*w;t=a;for(s=0;s<_;++s){v=e[s];if(v<t&&++r>c){A("overflow")}if(v==t){for(f=r,u=h;;u+=h){d=u<=o?l:u>=o+p?p:u-o;if(f<d){break}S=f-d;k=h-d;m.push(T(O(d+S%k,0)));f=E(S/k)}m.push(T(O(f,0)));o=L(r,w,n==i);r=0;++n}}++r;++t}return m.join("")}function j(e){return C(e,function(e){return m.test(e)?I(e.slice(4).toLowerCase()):e})}function U(e){return C(e,function(e){return _.test(e)?"xn--"+D(e):e})}u={version:"1.4.1",ucs2:{decode:B,encode:P},decode:I,encode:D,toASCII:U,toUnicode:j};if(true){!(i=function(){return u}.call(t,r,t,e),i!==undefined&&(e.exports=i))}else if(s&&a){if(e.exports==s){a.exports=u}else{for(R in u){u.hasOwnProperty(R)&&(s[R]=u[R])}}}else{o.punycode=u}})(this)}).call(t,r(80)(e),r(0))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t,r){"use strict";e.exports={isString:function(e){return typeof e==="string"},isObject:function(e){return typeof e==="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}}},function(e,t,r){"use strict";t.decode=t.parse=r(83);t.encode=t.stringify=r(84)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&";r=r||"=";var s={};if(typeof e!=="string"||e.length===0){return s}var a=/\+/g;e=e.split(t);var f=1e3;if(o&&typeof o.maxKeys==="number"){f=o.maxKeys}var u=e.length;if(f>0&&u>f){u=f}for(var c=0;c<u;++c){var h=e[c].replace(a,"%20"),l=h.indexOf(r),p,d,v,y;if(l>=0){p=h.substr(0,l);d=h.substr(l+1)}else{p=h;d=""}v=decodeURIComponent(p);y=decodeURIComponent(d);if(!n(s,v)){s[v]=y}else if(i(s[v])){s[v].push(y)}else{s[v]=[s[v],y]}}return s};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){t=t||"&";r=r||"=";if(e===null){e=undefined}if(typeof e==="object"){return o(s(e),function(s){var a=encodeURIComponent(n(s))+r;if(i(e[s])){return o(e[s],function(e){return a+encodeURIComponent(n(e))}).join(t)}else{return a+encodeURIComponent(n(e[s]))}}).join(t)}if(!a)return"";return encodeURIComponent(n(a))+r+encodeURIComponent(n(e))};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function o(e,t){if(e.map)return e.map(t);var r=[];for(var n=0;n<e.length;n++){r.push(t(e[n],n))}return r}var s=Object.keys||function(e){var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t.push(r)}return t}},function(e,t,r){var n=r(22);var i=e.exports;for(var o in n){if(n.hasOwnProperty(o))i[o]=n[o]}i.request=function(e,t){if(!e)e={};e.scheme="https";e.protocol="https:";return n.request.call(this,e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=n;function n(e){var t={};e.emit=function(e,r){var n=t[e];n&&n.forEach(function(e){return e(r)})};e.on=function(r,n){var i=t[r]||(t[r]=[]);i.push(n);return e};e.off=function(r,n){if(n){var i=t[r];var o=i.indexOf(n);if(o!==-1){i.splice(o,1)}if(i.length===0){delete t[r]}}else{delete t[r]}return e};e.list=function(e){return t[e]||[]};return e}},,,function(e,t,r){r(15);e.exports=r(19)}]);
//# sourceMappingURL=lib.bundle.js.map